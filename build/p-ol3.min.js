function expose(){var o=window.P;P.noConflict=function(){return window.P=o,this},window.P=P}var COMPILED=!1,goog=goog||{};goog.global=this,goog.global.CLOSURE_UNCOMPILED_DEFINES,goog.global.CLOSURE_DEFINES,goog.isDef=function(o){return void 0!==o},goog.exportPath_=function(o,e,t){var r=o.split("."),n=t||goog.global;r[0]in n||!n.execScript||n.execScript("var "+r[0]);for(var g;r.length&&(g=r.shift());)!r.length&&goog.isDef(e)?n[g]=e:n=n[g]?n[g]:n[g]={}},goog.define=function(o,e){var t=e;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,o)?t=goog.global.CLOSURE_UNCOMPILED_DEFINES[o]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,o)&&(t=goog.global.CLOSURE_DEFINES[o])),goog.exportPath_(o,t)},goog.DEBUG=!0,goog.define("goog.LOCALE","en"),goog.define("goog.TRUSTED_SITE",!0),goog.define("goog.STRICT_MODE_COMPATIBLE",!1),goog.provide=function(o){if(!COMPILED&&goog.isProvided_(o))throw Error('Namespace "'+o+'" already declared.');goog.constructNamespace_(o)},goog.constructNamespace_=function(o,e){if(!COMPILED){delete goog.implicitNamespaces_[o];for(var t=o;(t=t.substring(0,t.lastIndexOf(".")))&&!goog.getObjectByName(t);)goog.implicitNamespaces_[t]=!0}goog.exportPath_(o,e)},goog.module=function(o){if(!goog.isString(o)||!o)throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+o+" has been loaded incorrectly.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=o,!COMPILED){if(goog.isProvided_(o))throw Error('Namespace "'+o+'" already declared.');delete goog.implicitNamespaces_[o]}},goog.module.get=function(o){return goog.module.getInternal_(o)},goog.module.getInternal_=function(o){return COMPILED?void 0:goog.isProvided_(o)?o in goog.loadedModules_?goog.loadedModules_[o]:goog.getObjectByName(o):null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_},goog.module.declareTestMethods=function(){if(!goog.isInModuleLoader_())throw new Error("goog.module.declareTestMethods must be called from within a goog.module");goog.moduleLoaderState_.declareTestMethods=!0},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw new Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(o){if(COMPILED&&!goog.DEBUG)throw o=o||"",Error("Importing test-only code into non-debug environment"+(o?": "+o:"."))},goog.forwardDeclare=function(o){},COMPILED||(goog.isProvided_=function(o){return o in goog.loadedModules_||!goog.implicitNamespaces_[o]&&goog.isDefAndNotNull(goog.getObjectByName(o))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(o,e){for(var t,r=o.split("."),n=e||goog.global;t=r.shift();){if(!goog.isDefAndNotNull(n[t]))return null;n=n[t]}return n},goog.globalize=function(o,e){var t=e||goog.global;for(var r in o)t[r]=o[r]},goog.addDependency=function(o,e,t,r){if(goog.DEPENDENCIES_ENABLED){for(var n,g,s=o.replace(/\\/g,"/"),i=goog.dependencies_,a=0;n=e[a];a++)i.nameToPath[n]=s,i.pathIsModule[s]=!!r;for(var u=0;g=t[u];u++)s in i.requires||(i.requires[s]={}),i.requires[s][g]=!0}},goog.define("goog.ENABLE_DEBUG_LOADER",!0),goog.logToConsole_=function(o){goog.global.console&&goog.global.console.error(o)},goog.require=function(o){if(!COMPILED){if(goog.isProvided_(o))return goog.isInModuleLoader_()?goog.module.getInternal_(o):null;if(goog.ENABLE_DEBUG_LOADER){var e=goog.getPathFromDeps_(o);if(e)return goog.included_[e]=!0,goog.writeScripts_(),null}var t="goog.require could not find: "+o;throw goog.logToConsole_(t),Error(t)}},goog.basePath="",goog.global.CLOSURE_BASE_PATH,goog.global.CLOSURE_NO_DEPS,goog.global.CLOSURE_IMPORT_SCRIPT,goog.nullFunction=function(){},goog.identityFunction=function(o,e){return o},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(o){o.getInstance=function(){return o.instance_?o.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=o),o.instance_=new o)}},goog.instantiatedSingletons_=[],goog.define("goog.LOAD_MODULE_USING_EVAL",!0),goog.define("goog.SEAL_MODULE_EXPORTS",goog.DEBUG),goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.DEPENDENCIES_ENABLED&&(goog.included_={},goog.dependencies_={pathIsModule:{},nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var o=goog.global.document;return"undefined"!=typeof o&&"write"in o},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)return void(goog.basePath=goog.global.CLOSURE_BASE_PATH);if(goog.inHtmlDocument_())for(var o=goog.global.document,e=o.getElementsByTagName("script"),t=e.length-1;t>=0;--t){var r=e[t].src,n=r.lastIndexOf("?"),g=-1==n?r.length:n;if("base.js"==r.substr(g-7,7))return void(goog.basePath=r.substr(0,g-7))}},goog.importScript_=function(o,e){var t=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;t(o,e)&&(goog.dependencies_.written[o]=!0)},goog.IS_OLD_IE_=goog.global.document&&goog.global.document.all&&!goog.global.atob,goog.importModule_=function(o){var e='goog.retrieveAndExecModule_("'+o+'");';goog.importScript_("",e)&&(goog.dependencies_.written[o]=!0)},goog.queuedModules_=[],goog.retrieveAndExecModule_=function(o){for(var e;-1!=(e=o.indexOf("/./"));)o=o.substr(0,e)+o.substr(e+"/.".length);for(;-1!=(e=o.indexOf("/../"));){var t=o.lastIndexOf("/",e-1);o=o.substr(0,t)+o.substr(e+"/..".length)}var r=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,n=null,g=new goog.global.XMLHttpRequest;if(g.onload=function(){n=this.responseText},g.open("get",o,!1),g.send(),n=g.responseText,null==n)throw new Error("load of "+o+"failed");var s=goog.wrapModule_(o,n),i=goog.IS_OLD_IE_;i?goog.queuedModules_.push(s):r(o,s),goog.dependencies_.written[o]=!0},goog.wrapModule_=function(o,e){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(e+"\n//# sourceURL="+o+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+e+"\n;return exports});\n//# sourceURL="+o+"\n"},goog.loadQueuedModules_=function(){var o=goog.queuedModules_.length;if(o>0){var e=goog.queuedModules_;goog.queuedModules_=[];for(var t=0;o>t;t++){var r=e[t];goog.globalEval(r)}}},goog.loadModule=function(o){try{goog.moduleLoaderState_={moduleName:void 0,declareTestMethods:!1};var e;if(goog.isFunction(o))e=o.call(goog.global,{});else{if(!goog.isString(o))throw Error("Invalid module definition");e=goog.loadModuleFromSource_.call(goog.global,o)}var t=goog.moduleLoaderState_.moduleName;if(!goog.isString(t)||!t)throw Error('Invalid module name "'+t+'"');if(goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(t,e):goog.SEAL_MODULE_EXPORTS&&Object.seal&&Object.seal(e),goog.loadedModules_[t]=e,goog.moduleLoaderState_.declareTestMethods)for(var r in e)(0===r.indexOf("test",0)||"tearDown"==r||"setup"==r)&&(goog.global[r]=e[r])}finally{goog.moduleLoaderState_=null}},goog.loadModuleFromSource_=function(){"use strict";var exports={};return eval(arguments[0]),exports},goog.writeScriptTag_=function(o,e){if(goog.inHtmlDocument_()){var t=goog.global.document;if("complete"==t.readyState){var r=/\bdeps.js$/.test(o);if(r)return!1;throw Error('Cannot write "'+o+'" after document load')}var n=goog.IS_OLD_IE_;if(void 0===e)if(n){var g=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ";t.write('<script type="text/javascript" src="'+o+'"'+g+"></script>")}else t.write('<script type="text/javascript" src="'+o+'"></script>');else t.write('<script type="text/javascript">'+e+"</script>");return!0}return!1},goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(o,e){return"complete"==o.readyState&&goog.lastNonModuleScriptIndex_==e&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(){function o(n){if(!(n in r.written)){if(n in r.visited)return void(n in t||(t[n]=!0,e.push(n)));if(r.visited[n]=!0,n in r.requires)for(var g in r.requires[n])if(!goog.isProvided_(g)){if(!(g in r.nameToPath))throw Error("Undefined nameToPath for "+g);o(r.nameToPath[g])}n in t||(t[n]=!0,e.push(n))}}var e=[],t={},r=goog.dependencies_;for(var n in goog.included_)r.written[n]||o(n);for(var g=0;g<e.length;g++){var n=e[g];goog.dependencies_.written[n]=!0}var s=goog.moduleLoaderState_;goog.moduleLoaderState_=null;for(var i=!1,g=0;g<e.length;g++){var n=e[g];if(!n)throw goog.moduleLoaderState_=s,Error("Undefined script input");r.pathIsModule[n]?(i=!0,goog.importModule_(goog.basePath+n)):goog.importScript_(goog.basePath+n)}goog.moduleLoaderState_=s},goog.getPathFromDeps_=function(o){return o in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[o]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.typeOf=function(o){var e=typeof o;if("object"==e){if(!o)return"null";if(o instanceof Array)return"array";if(o instanceof Object)return e;var t=Object.prototype.toString.call(o);if("[object Window]"==t)return"object";if("[object Array]"==t||"number"==typeof o.length&&"undefined"!=typeof o.splice&&"undefined"!=typeof o.propertyIsEnumerable&&!o.propertyIsEnumerable("splice"))return"array";if("[object Function]"==t||"undefined"!=typeof o.call&&"undefined"!=typeof o.propertyIsEnumerable&&!o.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof o.call)return"object";return e},goog.isNull=function(o){return null===o},goog.isDefAndNotNull=function(o){return null!=o},goog.isArray=function(o){return"array"==goog.typeOf(o)},goog.isArrayLike=function(o){var e=goog.typeOf(o);return"array"==e||"object"==e&&"number"==typeof o.length},goog.isDateLike=function(o){return goog.isObject(o)&&"function"==typeof o.getFullYear},goog.isString=function(o){return"string"==typeof o},goog.isBoolean=function(o){return"boolean"==typeof o},goog.isNumber=function(o){return"number"==typeof o},goog.isFunction=function(o){return"function"==goog.typeOf(o)},goog.isObject=function(o){var e=typeof o;return"object"==e&&null!=o||"function"==e},goog.getUid=function(o){return o[goog.UID_PROPERTY_]||(o[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(o){return!!o[goog.UID_PROPERTY_]},goog.removeUid=function(o){"removeAttribute"in o&&o.removeAttribute(goog.UID_PROPERTY_);try{delete o[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(o){var e=goog.typeOf(o);if("object"==e||"array"==e){if(o.clone)return o.clone();var t="array"==e?[]:{};for(var r in o)t[r]=goog.cloneObject(o[r]);return t}return o},goog.bindNative_=function(o,e,t){return o.call.apply(o.bind,arguments)},goog.bindJs_=function(o,e,t){if(!o)throw new Error;if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,r),o.apply(e,t)}}return function(){return o.apply(e,arguments)}},goog.bind=function(o,e,t){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(o,e){var t=Array.prototype.slice.call(arguments,1);return function(){var e=t.slice();return e.push.apply(e,arguments),o.apply(this,e)}},goog.mixin=function(o,e){for(var t in e)o[t]=e[t]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(o){if(goog.global.execScript)goog.global.execScript(o,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),"undefined"!=typeof goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_)goog.global.eval(o);else{var e=goog.global.document,t=e.createElement("script");t.type="text/javascript",t.defer=!1,t.appendChild(e.createTextNode(o)),e.body.appendChild(t),e.body.removeChild(t)}}},goog.evalWorksForGlobals_=null,goog.cssNameMapping_,goog.cssNameMappingStyle_,goog.getCssName=function(o,e){var t,r=function(o){return goog.cssNameMapping_[o]||o},n=function(o){for(var e=o.split("-"),t=[],n=0;n<e.length;n++)t.push(r(e[n]));return t.join("-")};return t=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?r:n:function(o){return o},e?o+"-"+t(e):t(o)},goog.setCssNameMapping=function(o,e){goog.cssNameMapping_=o,goog.cssNameMappingStyle_=e},goog.global.CLOSURE_CSS_NAME_MAPPING,!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(o,e){return e&&(o=o.replace(/\{\$([^}]+)}/g,function(o,t){return t in e?e[t]:o})),o},goog.getMsgWithFallback=function(o,e){return o},goog.exportSymbol=function(o,e,t){goog.exportPath_(o,e,t)},goog.exportProperty=function(o,e,t){o[e]=t},goog.inherits=function(o,e){function t(){}t.prototype=e.prototype,o.superClass_=e.prototype,o.prototype=new t,o.prototype.constructor=o,o.base=function(o,t,r){var n=Array.prototype.slice.call(arguments,2);return e.prototype[t].apply(o,n)}},goog.base=function(o,e,t){var r=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!r)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(r.superClass_)return r.superClass_.constructor.apply(o,Array.prototype.slice.call(arguments,1));for(var n=Array.prototype.slice.call(arguments,2),g=!1,s=o.constructor;s;s=s.superClass_&&s.superClass_.constructor)if(s.prototype[e]===r)g=!0;else if(g)return s.prototype[e].apply(o,n);if(o[e]===r)return o.constructor.prototype[e].apply(o,n);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(o){o.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(o,e){var t=e.constructor,r=e.statics;t&&t!=Object.prototype.constructor||(t=function(){throw Error("cannot instantiate an interface (no constructor defined).")});var n=goog.defineClass.createSealingConstructor_(t,o);return o&&goog.inherits(n,o),delete e.constructor,delete e.statics,goog.defineClass.applyProperties_(n.prototype,e),null!=r&&(r instanceof Function?r(n):goog.defineClass.applyProperties_(n,r)),n},goog.defineClass.ClassDescriptor,goog.define("goog.defineClass.SEAL_CLASS_INSTANCES",goog.DEBUG),goog.defineClass.createSealingConstructor_=function(o,e){if(goog.defineClass.SEAL_CLASS_INSTANCES&&Object.seal instanceof Function){if(e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_])return o;var t=function(){var e=o.apply(this,arguments)||this;return e[goog.UID_PROPERTY_]=e[goog.UID_PROPERTY_],this.constructor===t&&Object.seal(e),e};return t}return o},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],goog.defineClass.applyProperties_=function(o,e){var t;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t]);for(var r=0;r<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;r++)t=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[r],Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t])},goog.tagUnsealableClass=function(o){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(o.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.provide("goog.disposable.IDisposable"),goog.disposable.IDisposable=function(){},goog.disposable.IDisposable.prototype.dispose=goog.abstractMethod,goog.disposable.IDisposable.prototype.isDisposed=goog.abstractMethod,goog.provide("goog.Disposable"),goog.provide("goog.dispose"),goog.provide("goog.disposeAll"),goog.require("goog.disposable.IDisposable"),goog.Disposable=function(){goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&(goog.Disposable.INCLUDE_STACK_ON_CREATION&&(this.creationStack=(new Error).stack),goog.Disposable.instances_[goog.getUid(this)]=this),this.disposed_=this.disposed_,this.onDisposeCallbacks_=this.onDisposeCallbacks_},goog.Disposable.MonitoringMode={OFF:0,PERMANENT:1,INTERACTIVE:2},goog.define("goog.Disposable.MONITORING_MODE",0),goog.define("goog.Disposable.INCLUDE_STACK_ON_CREATION",!0),goog.Disposable.instances_={},goog.Disposable.getUndisposedObjects=function(){var o=[];for(var e in goog.Disposable.instances_)goog.Disposable.instances_.hasOwnProperty(e)&&o.push(goog.Disposable.instances_[Number(e)]);return o},goog.Disposable.clearUndisposedObjects=function(){goog.Disposable.instances_={}},goog.Disposable.prototype.disposed_=!1,goog.Disposable.prototype.onDisposeCallbacks_,goog.Disposable.prototype.creationStack,goog.Disposable.prototype.isDisposed=function(){return this.disposed_},goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed,goog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF)){var o=goog.getUid(this);if(goog.Disposable.MONITORING_MODE==goog.Disposable.MonitoringMode.PERMANENT&&!goog.Disposable.instances_.hasOwnProperty(o))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete goog.Disposable.instances_[o]}},goog.Disposable.prototype.registerDisposable=function(o){this.addOnDisposeCallback(goog.partial(goog.dispose,o))},goog.Disposable.prototype.addOnDisposeCallback=function(o,e){this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),this.onDisposeCallbacks_.push(goog.isDef(e)?goog.bind(o,e):o)},goog.Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()},goog.Disposable.isDisposed=function(o){return o&&"function"==typeof o.isDisposed?o.isDisposed():!1},goog.dispose=function(o){o&&"function"==typeof o.dispose&&o.dispose()},goog.disposeAll=function(o){for(var e=0,t=arguments.length;t>e;++e){var r=arguments[e];goog.isArrayLike(r)?goog.disposeAll.apply(null,r):goog.dispose(r)}},goog.provide("goog.events.EventId"),goog.events.EventId=function(o){this.id=o},goog.events.EventId.prototype.toString=function(){return this.id},goog.provide("goog.events.Event"),goog.provide("goog.events.EventLike"),goog.require("goog.Disposable"),goog.require("goog.events.EventId"),goog.events.EventLike,goog.events.Event=function(o,e){this.type=o instanceof goog.events.EventId?String(o):o,this.target=e,this.currentTarget=this.target,this.propagationStopped_=!1,this.defaultPrevented=!1,this.returnValue_=!0},goog.events.Event.prototype.disposeInternal=function(){},goog.events.Event.prototype.dispose=function(){},goog.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0},goog.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0,this.returnValue_=!1},goog.events.Event.stopPropagation=function(o){o.stopPropagation()},goog.events.Event.preventDefault=function(o){o.preventDefault()},goog.provide("goog.debug.Error"),goog.debug.Error=function(o){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var e=(new Error).stack;e&&(this.stack=e)}o&&(this.message=String(o))},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.provide("goog.dom.NodeType"),goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.provide("goog.string"),goog.provide("goog.string.Unicode"),goog.define("goog.string.DETECT_DOUBLE_ESCAPING",!1),goog.string.Unicode={NBSP:" "},goog.string.startsWith=function(o,e){return 0==o.lastIndexOf(e,0)},goog.string.endsWith=function(o,e){var t=o.length-e.length;return t>=0&&o.indexOf(e,t)==t},goog.string.caseInsensitiveStartsWith=function(o,e){return 0==goog.string.caseInsensitiveCompare(e,o.substr(0,e.length))},goog.string.caseInsensitiveEndsWith=function(o,e){return 0==goog.string.caseInsensitiveCompare(e,o.substr(o.length-e.length,e.length))},goog.string.caseInsensitiveEquals=function(o,e){return o.toLowerCase()==e.toLowerCase()},goog.string.subs=function(o,e){for(var t=o.split("%s"),r="",n=Array.prototype.slice.call(arguments,1);n.length&&t.length>1;)r+=t.shift()+n.shift();return r+t.join("%s")},goog.string.collapseWhitespace=function(o){return o.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmpty=function(o){return/^[\s\xa0]*$/.test(o)},goog.string.isEmptySafe=function(o){return goog.string.isEmpty(goog.string.makeSafe(o))},goog.string.isBreakingWhitespace=function(o){return!/[^\t\n\r ]/.test(o)},goog.string.isAlpha=function(o){return!/[^a-zA-Z]/.test(o)},goog.string.isNumeric=function(o){return!/[^0-9]/.test(o)},goog.string.isAlphaNumeric=function(o){return!/[^a-zA-Z0-9]/.test(o)},goog.string.isSpace=function(o){return" "==o},goog.string.isUnicodeChar=function(o){return 1==o.length&&o>=" "&&"~">=o||o>=""&&"�">=o},goog.string.stripNewlines=function(o){return o.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(o){return o.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(o){return o.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(o){return o.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(o){return o.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(o){return o.trim()}:function(o){return o.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},goog.string.trimLeft=function(o){return o.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(o){return o.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(o,e){var t=String(o).toLowerCase(),r=String(e).toLowerCase();return r>t?-1:t==r?0:1},goog.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g,goog.string.numerateCompare=function(o,e){if(o==e)return 0;if(!o)return-1;if(!e)return 1;for(var t=o.toLowerCase().match(goog.string.numerateCompareRegExp_),r=e.toLowerCase().match(goog.string.numerateCompareRegExp_),n=Math.min(t.length,r.length),g=0;n>g;g++){var s=t[g],i=r[g];if(s!=i){var a=parseInt(s,10);if(!isNaN(a)){var u=parseInt(i,10);if(!isNaN(u)&&a-u)return a-u}return i>s?-1:1}}return t.length!=r.length?t.length-r.length:e>o?-1:1},goog.string.urlEncode=function(o){return encodeURIComponent(String(o))},goog.string.urlDecode=function(o){return decodeURIComponent(o.replace(/\+/g," "))},goog.string.newLineToBr=function(o,e){return o.replace(/(\r\n|\r|\n)/g,e?"<br />":"<br>")},goog.string.htmlEscape=function(o,e){return e?(o=o.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(o=o.replace(goog.string.E_RE_,"&#101;")),o):goog.string.ALL_RE_.test(o)?(-1!=o.indexOf("&")&&(o=o.replace(goog.string.AMP_RE_,"&amp;")),-1!=o.indexOf("<")&&(o=o.replace(goog.string.LT_RE_,"&lt;")),-1!=o.indexOf(">")&&(o=o.replace(goog.string.GT_RE_,"&gt;")),-1!=o.indexOf('"')&&(o=o.replace(goog.string.QUOT_RE_,"&quot;")),-1!=o.indexOf("'")&&(o=o.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;")),-1!=o.indexOf("\x00")&&(o=o.replace(goog.string.NULL_RE_,"&#0;")),goog.string.DETECT_DOUBLE_ESCAPING&&-1!=o.indexOf("e")&&(o=o.replace(goog.string.E_RE_,"&#101;")),o):o},goog.string.AMP_RE_=/&/g,goog.string.LT_RE_=/</g,goog.string.GT_RE_=/>/g,goog.string.QUOT_RE_=/"/g,goog.string.SINGLE_QUOTE_RE_=/'/g,goog.string.NULL_RE_=/\x00/g,goog.string.E_RE_=/e/g,goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/,goog.string.unescapeEntities=function(o){return goog.string.contains(o,"&")?"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(o):goog.string.unescapePureXmlEntities_(o):o},goog.string.unescapeEntitiesWithDocument=function(o,e){return goog.string.contains(o,"&")?goog.string.unescapeEntitiesUsingDom_(o,e):o},goog.string.unescapeEntitiesUsingDom_=function(o,e){var t,r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};return t=e?e.createElement("div"):goog.global.document.createElement("div"),o.replace(goog.string.HTML_ENTITY_PATTERN_,function(o,e){var n=r[o];if(n)return n;if("#"==e.charAt(0)){var g=Number("0"+e.substr(1));isNaN(g)||(n=String.fromCharCode(g))}return n||(t.innerHTML=o+" ",n=t.firstChild.nodeValue.slice(0,-1)),r[o]=n})},goog.string.unescapePureXmlEntities_=function(o){return o.replace(/&([^;]+);/g,function(o,e){switch(e){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==e.charAt(0)){var t=Number("0"+e.substr(1));if(!isNaN(t))return String.fromCharCode(t)}return o}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(o,e){return goog.string.newLineToBr(o.replace(/  /g," &#160;"),e)},goog.string.preserveSpaces=function(o){return o.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(o,e){for(var t=e.length,r=0;t>r;r++){var n=1==t?e:e.charAt(r);if(o.charAt(0)==n&&o.charAt(o.length-1)==n)return o.substring(1,o.length-1)}return o},goog.string.truncate=function(o,e,t){return t&&(o=goog.string.unescapeEntities(o)),o.length>e&&(o=o.substring(0,e-3)+"..."),t&&(o=goog.string.htmlEscape(o)),o},goog.string.truncateMiddle=function(o,e,t,r){if(t&&(o=goog.string.unescapeEntities(o)),r&&o.length>e){r>e&&(r=e);var n=o.length-r,g=e-r;o=o.substring(0,g)+"..."+o.substring(n)}else if(o.length>e){var s=Math.floor(e/2),i=o.length-s;s+=e%2,o=o.substring(0,s)+"..."+o.substring(i)}return t&&(o=goog.string.htmlEscape(o)),o},goog.string.specialEscapeChars_={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(o){if(o=String(o),o.quote)return o.quote();for(var e=['"'],t=0;t<o.length;t++){var r=o.charAt(t),n=r.charCodeAt(0);e[t+1]=goog.string.specialEscapeChars_[r]||(n>31&&127>n?r:goog.string.escapeChar(r))}return e.push('"'),e.join("")},goog.string.escapeString=function(o){for(var e=[],t=0;t<o.length;t++)e[t]=goog.string.escapeChar(o.charAt(t));return e.join("")},goog.string.escapeChar=function(o){if(o in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[o];if(o in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[o]=goog.string.specialEscapeChars_[o];var e=o,t=o.charCodeAt(0);return t>31&&127>t?e=o:(256>t?(e="\\x",(16>t||t>256)&&(e+="0")):(e="\\u",4096>t&&(e+="0")),e+=t.toString(16).toUpperCase()),goog.string.jsEscapeCache_[o]=e},goog.string.contains=function(o,e){return-1!=o.indexOf(e)},goog.string.caseInsensitiveContains=function(o,e){return goog.string.contains(o.toLowerCase(),e.toLowerCase())},goog.string.countOf=function(o,e){return o&&e?o.split(e).length-1:0},goog.string.removeAt=function(o,e,t){var r=o;return e>=0&&e<o.length&&t>0&&(r=o.substr(0,e)+o.substr(e+t,o.length-e-t)),r},goog.string.remove=function(o,e){var t=new RegExp(goog.string.regExpEscape(e),"");return o.replace(t,"")},goog.string.removeAll=function(o,e){var t=new RegExp(goog.string.regExpEscape(e),"g");return o.replace(t,"")},goog.string.regExpEscape=function(o){return String(o).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=function(o,e){return new Array(e+1).join(o)},goog.string.padNumber=function(o,e,t){var r=goog.isDef(t)?o.toFixed(t):String(o),n=r.indexOf(".");return-1==n&&(n=r.length),goog.string.repeat("0",Math.max(0,e-n))+r},goog.string.makeSafe=function(o){return null==o?"":String(o)},goog.string.buildString=function(o){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){var o=2147483648;return Math.floor(Math.random()*o).toString(36)+Math.abs(Math.floor(Math.random()*o)^goog.now()).toString(36)},goog.string.compareVersions=function(o,e){for(var t=0,r=goog.string.trim(String(o)).split("."),n=goog.string.trim(String(e)).split("."),g=Math.max(r.length,n.length),s=0;0==t&&g>s;s++){var i=r[s]||"",a=n[s]||"",u=new RegExp("(\\d*)(\\D*)","g"),l=new RegExp("(\\d*)(\\D*)","g");do{var c=u.exec(i)||["","",""],p=l.exec(a)||["","",""];if(0==c[0].length&&0==p[0].length)break;var h=0==c[1].length?0:parseInt(c[1],10),P=0==p[1].length?0:parseInt(p[1],10);t=goog.string.compareElements_(h,P)||goog.string.compareElements_(0==c[2].length,0==p[2].length)||goog.string.compareElements_(c[2],p[2])}while(0==t)}return t},goog.string.compareElements_=function(o,e){return e>o?-1:o>e?1:0},goog.string.HASHCODE_MAX_=4294967296,goog.string.hashCode=function(o){for(var e=0,t=0;t<o.length;++t)e=31*e+o.charCodeAt(t),e%=goog.string.HASHCODE_MAX_;return e},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(o){var e=Number(o);return 0==e&&goog.string.isEmpty(o)?NaN:e},goog.string.isLowerCamelCase=function(o){return/^[a-z]+([A-Z][a-z]*)*$/.test(o)},goog.string.isUpperCamelCase=function(o){return/^([A-Z][a-z]*)+$/.test(o)},goog.string.toCamelCase=function(o){return String(o).replace(/\-([a-z])/g,function(o,e){return e.toUpperCase()})},goog.string.toSelectorCase=function(o){return String(o).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(o,e){var t=goog.isString(e)?goog.string.regExpEscape(e):"\\s";t=t?"|["+t+"]+":"";var r=new RegExp("(^"+t+")([a-z])","g");return o.replace(r,function(o,e,t){return e+t.toUpperCase()})},goog.string.parseInt=function(o){return isFinite(o)&&(o=String(o)),goog.isString(o)?/^\s*-?0x/i.test(o)?parseInt(o,16):parseInt(o,10):NaN},goog.string.splitLimit=function(o,e,t){for(var r=o.split(e),n=[];t>0&&r.length;)n.push(r.shift()),t--;return r.length&&n.push(r.join(e)),n},goog.provide("goog.asserts"),goog.provide("goog.asserts.AssertionError"),goog.require("goog.debug.Error"),goog.require("goog.dom.NodeType"),goog.require("goog.string"),goog.define("goog.asserts.ENABLE_ASSERTS",goog.DEBUG),goog.asserts.AssertionError=function(o,e){e.unshift(o),goog.debug.Error.call(this,goog.string.subs.apply(null,e)),e.shift(),this.messagePattern=o},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(o){throw o},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.doAssertFailure_=function(o,e,t,r){var n="Assertion failed";if(t){n+=": "+t;var g=r}else o&&(n+=": "+o,g=e);var s=new goog.asserts.AssertionError(""+n,g||[]);goog.asserts.errorHandler_(s)},goog.asserts.setErrorHandler=function(o){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=o)},goog.asserts.assert=function(o,e,t){return goog.asserts.ENABLE_ASSERTS&&!o&&goog.asserts.doAssertFailure_("",null,e,Array.prototype.slice.call(arguments,2)),o},goog.asserts.fail=function(o,e){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(o,e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(o)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(o),o],e,Array.prototype.slice.call(arguments,2)),o},goog.asserts.assertString=function(o,e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(o)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(o),o],e,Array.prototype.slice.call(arguments,2)),
o},goog.asserts.assertFunction=function(o,e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(o)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(o),o],e,Array.prototype.slice.call(arguments,2)),o},goog.asserts.assertObject=function(o,e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(o)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(o),o],e,Array.prototype.slice.call(arguments,2)),o},goog.asserts.assertArray=function(o,e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(o)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(o),o],e,Array.prototype.slice.call(arguments,2)),o},goog.asserts.assertBoolean=function(o,e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(o)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(o),o],e,Array.prototype.slice.call(arguments,2)),o},goog.asserts.assertElement=function(o,e,t){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(o)&&o.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(o),o],e,Array.prototype.slice.call(arguments,2)),o},goog.asserts.assertInstanceof=function(o,e,t,r){return!goog.asserts.ENABLE_ASSERTS||o instanceof e||goog.asserts.doAssertFailure_("instanceof check failed.",null,t,Array.prototype.slice.call(arguments,3)),o},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var o in Object.prototype)goog.asserts.fail(o+" should not be enumerable in Object.prototype.")},goog.provide("goog.array"),goog.provide("goog.array.ArrayLike"),goog.require("goog.asserts"),goog.define("goog.NATIVE_ARRAY_PROTOTYPES",goog.TRUSTED_SITE),goog.define("goog.array.ASSUME_NATIVE_FUNCTIONS",!1),goog.array.ArrayLike,goog.array.peek=function(o){return o[o.length-1]},goog.array.last=goog.array.peek,goog.array.ARRAY_PROTOTYPE_=Array.prototype,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.indexOf)?function(o,e,t){return goog.asserts.assert(null!=o.length),goog.array.ARRAY_PROTOTYPE_.indexOf.call(o,e,t)}:function(o,e,t){var r=null==t?0:0>t?Math.max(0,o.length+t):t;if(goog.isString(o))return goog.isString(e)&&1==e.length?o.indexOf(e,r):-1;for(var n=r;n<o.length;n++)if(n in o&&o[n]===e)return n;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.lastIndexOf)?function(o,e,t){goog.asserts.assert(null!=o.length);var r=null==t?o.length-1:t;return goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(o,e,r)}:function(o,e,t){var r=null==t?o.length-1:t;if(0>r&&(r=Math.max(0,o.length+r)),goog.isString(o))return goog.isString(e)&&1==e.length?o.lastIndexOf(e,r):-1;for(var n=r;n>=0;n--)if(n in o&&o[n]===e)return n;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.forEach)?function(o,e,t){goog.asserts.assert(null!=o.length),goog.array.ARRAY_PROTOTYPE_.forEach.call(o,e,t)}:function(o,e,t){for(var r=o.length,n=goog.isString(o)?o.split(""):o,g=0;r>g;g++)g in n&&e.call(t,n[g],g,o)},goog.array.forEachRight=function(o,e,t){for(var r=o.length,n=goog.isString(o)?o.split(""):o,g=r-1;g>=0;--g)g in n&&e.call(t,n[g],g,o)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.filter)?function(o,e,t){return goog.asserts.assert(null!=o.length),goog.array.ARRAY_PROTOTYPE_.filter.call(o,e,t)}:function(o,e,t){for(var r=o.length,n=[],g=0,s=goog.isString(o)?o.split(""):o,i=0;r>i;i++)if(i in s){var a=s[i];e.call(t,a,i,o)&&(n[g++]=a)}return n},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.map)?function(o,e,t){return goog.asserts.assert(null!=o.length),goog.array.ARRAY_PROTOTYPE_.map.call(o,e,t)}:function(o,e,t){for(var r=o.length,n=new Array(r),g=goog.isString(o)?o.split(""):o,s=0;r>s;s++)s in g&&(n[s]=e.call(t,g[s],s,o));return n},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.reduce)?function(o,e,t,r){return goog.asserts.assert(null!=o.length),r&&(e=goog.bind(e,r)),goog.array.ARRAY_PROTOTYPE_.reduce.call(o,e,t)}:function(o,e,t,r){var n=t;return goog.array.forEach(o,function(t,g){n=e.call(r,n,t,g,o)}),n},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.reduceRight)?function(o,e,t,r){return goog.asserts.assert(null!=o.length),r&&(e=goog.bind(e,r)),goog.array.ARRAY_PROTOTYPE_.reduceRight.call(o,e,t)}:function(o,e,t,r){var n=t;return goog.array.forEachRight(o,function(t,g){n=e.call(r,n,t,g,o)}),n},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.some)?function(o,e,t){return goog.asserts.assert(null!=o.length),goog.array.ARRAY_PROTOTYPE_.some.call(o,e,t)}:function(o,e,t){for(var r=o.length,n=goog.isString(o)?o.split(""):o,g=0;r>g;g++)if(g in n&&e.call(t,n[g],g,o))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.every)?function(o,e,t){return goog.asserts.assert(null!=o.length),goog.array.ARRAY_PROTOTYPE_.every.call(o,e,t)}:function(o,e,t){for(var r=o.length,n=goog.isString(o)?o.split(""):o,g=0;r>g;g++)if(g in n&&!e.call(t,n[g],g,o))return!1;return!0},goog.array.count=function(o,e,t){var r=0;return goog.array.forEach(o,function(o,n,g){e.call(t,o,n,g)&&++r},t),r},goog.array.find=function(o,e,t){var r=goog.array.findIndex(o,e,t);return 0>r?null:goog.isString(o)?o.charAt(r):o[r]},goog.array.findIndex=function(o,e,t){for(var r=o.length,n=goog.isString(o)?o.split(""):o,g=0;r>g;g++)if(g in n&&e.call(t,n[g],g,o))return g;return-1},goog.array.findRight=function(o,e,t){var r=goog.array.findIndexRight(o,e,t);return 0>r?null:goog.isString(o)?o.charAt(r):o[r]},goog.array.findIndexRight=function(o,e,t){for(var r=o.length,n=goog.isString(o)?o.split(""):o,g=r-1;g>=0;g--)if(g in n&&e.call(t,n[g],g,o))return g;return-1},goog.array.contains=function(o,e){return goog.array.indexOf(o,e)>=0},goog.array.isEmpty=function(o){return 0==o.length},goog.array.clear=function(o){if(!goog.isArray(o))for(var e=o.length-1;e>=0;e--)delete o[e];o.length=0},goog.array.insert=function(o,e){goog.array.contains(o,e)||o.push(e)},goog.array.insertAt=function(o,e,t){goog.array.splice(o,t,0,e)},goog.array.insertArrayAt=function(o,e,t){goog.partial(goog.array.splice,o,t,0).apply(null,e)},goog.array.insertBefore=function(o,e,t){var r;2==arguments.length||(r=goog.array.indexOf(o,t))<0?o.push(e):goog.array.insertAt(o,e,r)},goog.array.remove=function(o,e){var t,r=goog.array.indexOf(o,e);return(t=r>=0)&&goog.array.removeAt(o,r),t},goog.array.removeAt=function(o,e){return goog.asserts.assert(null!=o.length),1==goog.array.ARRAY_PROTOTYPE_.splice.call(o,e,1).length},goog.array.removeIf=function(o,e,t){var r=goog.array.findIndex(o,e,t);return r>=0?(goog.array.removeAt(o,r),!0):!1},goog.array.removeAllIf=function(o,e,t){var r=0;return goog.array.forEachRight(o,function(n,g){e.call(t,n,g,o)&&goog.array.removeAt(o,g)&&r++}),r},goog.array.concat=function(o){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)},goog.array.join=function(o){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)},goog.array.toArray=function(o){var e=o.length;if(e>0){for(var t=new Array(e),r=0;e>r;r++)t[r]=o[r];return t}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(o,e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];if(goog.isArray(n)||(r=goog.isArrayLike(n))&&Object.prototype.hasOwnProperty.call(n,"callee"))o.push.apply(o,n);else if(r)for(var g=o.length,s=n.length,i=0;s>i;i++)o[g+i]=n[i];else o.push(n)}},goog.array.splice=function(o,e,t,r){return goog.asserts.assert(null!=o.length),goog.array.ARRAY_PROTOTYPE_.splice.apply(o,goog.array.slice(arguments,1))},goog.array.slice=function(o,e,t){return goog.asserts.assert(null!=o.length),arguments.length<=2?goog.array.ARRAY_PROTOTYPE_.slice.call(o,e):goog.array.ARRAY_PROTOTYPE_.slice.call(o,e,t)},goog.array.removeDuplicates=function(o,e,t){for(var r=e||o,n=function(o){return goog.isObject(u)?"o"+goog.getUid(u):(typeof u).charAt(0)+u},g=t||n,s={},i=0,a=0;a<o.length;){var u=o[a++],l=g(u);Object.prototype.hasOwnProperty.call(s,l)||(s[l]=!0,r[i++]=u)}r.length=i},goog.array.binarySearch=function(o,e,t){return goog.array.binarySearch_(o,t||goog.array.defaultCompare,!1,e)},goog.array.binarySelect=function(o,e,t){return goog.array.binarySearch_(o,e,!0,void 0,t)},goog.array.binarySearch_=function(o,e,t,r,n){for(var g,s=0,i=o.length;i>s;){var a,u=s+i>>1;a=t?e.call(n,o[u],u,o):e(r,o[u]),a>0?s=u+1:(i=u,g=!a)}return g?s:~s},goog.array.sort=function(o,e){o.sort(e||goog.array.defaultCompare)},goog.array.stableSort=function(o,e){function t(o,e){return n(o.value,e.value)||o.index-e.index}for(var r=0;r<o.length;r++)o[r]={index:r,value:o[r]};var n=e||goog.array.defaultCompare;goog.array.sort(o,t);for(var r=0;r<o.length;r++)o[r]=o[r].value},goog.array.sortByKey=function(o,e,t){var r=t||goog.array.defaultCompare;goog.array.sort(o,function(o,t){return r(e(o),e(t))})},goog.array.sortObjectsByKey=function(o,e,t){goog.array.sortByKey(o,function(o){return o[e]},t)},goog.array.isSorted=function(o,e,t){for(var r=e||goog.array.defaultCompare,n=1;n<o.length;n++){var g=r(o[n-1],o[n]);if(g>0||0==g&&t)return!1}return!0},goog.array.equals=function(o,e,t){if(!goog.isArrayLike(o)||!goog.isArrayLike(e)||o.length!=e.length)return!1;for(var r=o.length,n=t||goog.array.defaultCompareEquality,g=0;r>g;g++)if(!n(o[g],e[g]))return!1;return!0},goog.array.compare3=function(o,e,t){for(var r=t||goog.array.defaultCompare,n=Math.min(o.length,e.length),g=0;n>g;g++){var s=r(o[g],e[g]);if(0!=s)return s}return goog.array.defaultCompare(o.length,e.length)},goog.array.defaultCompare=function(o,e){return o>e?1:e>o?-1:0},goog.array.defaultCompareEquality=function(o,e){return o===e},goog.array.binaryInsert=function(o,e,t){var r=goog.array.binarySearch(o,e,t);return 0>r?(goog.array.insertAt(o,e,-(r+1)),!0):!1},goog.array.binaryRemove=function(o,e,t){var r=goog.array.binarySearch(o,e,t);return r>=0?goog.array.removeAt(o,r):!1},goog.array.bucket=function(o,e,t){for(var r={},n=0;n<o.length;n++){var g=o[n],s=e.call(t,g,n,o);if(goog.isDef(s)){var i=r[s]||(r[s]=[]);i.push(g)}}return r},goog.array.toObject=function(o,e,t){var r={};return goog.array.forEach(o,function(n,g){r[e.call(t,n,g,o)]=n}),r},goog.array.range=function(o,e,t){var r=[],n=0,g=o,s=t||1;if(void 0!==e&&(n=o,g=e),0>s*(g-n))return[];if(s>0)for(var i=n;g>i;i+=s)r.push(i);else for(var i=n;i>g;i+=s)r.push(i);return r},goog.array.repeat=function(o,e){for(var t=[],r=0;e>r;r++)t[r]=o;return t},goog.array.flatten=function(o){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];goog.isArray(r)?e.push.apply(e,goog.array.flatten.apply(null,r)):e.push(r)}return e},goog.array.rotate=function(o,e){return goog.asserts.assert(null!=o.length),o.length&&(e%=o.length,e>0?goog.array.ARRAY_PROTOTYPE_.unshift.apply(o,o.splice(-e,e)):0>e&&goog.array.ARRAY_PROTOTYPE_.push.apply(o,o.splice(0,-e))),o},goog.array.moveItem=function(o,e,t){goog.asserts.assert(e>=0&&e<o.length),goog.asserts.assert(t>=0&&t<o.length);var r=goog.array.ARRAY_PROTOTYPE_.splice.call(o,e,1);goog.array.ARRAY_PROTOTYPE_.splice.call(o,t,0,r[0])},goog.array.zip=function(o){if(!arguments.length)return[];for(var e=[],t=0;!0;t++){for(var r=[],n=0;n<arguments.length;n++){var g=arguments[n];if(t>=g.length)return e;r.push(g[t])}e.push(r)}},goog.array.shuffle=function(o,e){for(var t=e||Math.random,r=o.length-1;r>0;r--){var n=Math.floor(t()*(r+1)),g=o[r];o[r]=o[n],o[n]=g}},goog.provide("goog.object"),goog.require("goog.array"),goog.object.forEach=function(o,e,t){for(var r in o)e.call(t,o[r],r,o)},goog.object.filter=function(o,e,t){var r={};for(var n in o)e.call(t,o[n],n,o)&&(r[n]=o[n]);return r},goog.object.map=function(o,e,t){var r={};for(var n in o)r[n]=e.call(t,o[n],n,o);return r},goog.object.some=function(o,e,t){for(var r in o)if(e.call(t,o[r],r,o))return!0;return!1},goog.object.every=function(o,e,t){for(var r in o)if(!e.call(t,o[r],r,o))return!1;return!0},goog.object.getCount=function(o){var e=0;for(var t in o)e++;return e},goog.object.getAnyKey=function(o){for(var e in o)return e},goog.object.getAnyValue=function(o){for(var e in o)return o[e]},goog.object.contains=function(o,e){return goog.object.containsValue(o,e)},goog.object.getValues=function(o){var e=[],t=0;for(var r in o)e[t++]=o[r];return e},goog.object.getKeys=function(o){var e=[],t=0;for(var r in o)e[t++]=r;return e},goog.object.getValueByKeys=function(o,e){for(var t=goog.isArrayLike(e),r=t?e:arguments,n=t?0:1;n<r.length&&(o=o[r[n]],goog.isDef(o));n++);return o},goog.object.containsKey=function(o,e){return e in o},goog.object.containsValue=function(o,e){for(var t in o)if(o[t]==e)return!0;return!1},goog.object.findKey=function(o,e,t){for(var r in o)if(e.call(t,o[r],r,o))return r},goog.object.findValue=function(o,e,t){var r=goog.object.findKey(o,e,t);return r&&o[r]},goog.object.isEmpty=function(o){for(var e in o)return!1;return!0},goog.object.clear=function(o){for(var e in o)delete o[e]},goog.object.remove=function(o,e){var t;return(t=e in o)&&delete o[e],t},goog.object.add=function(o,e,t){if(e in o)throw Error('The object already contains the key "'+e+'"');goog.object.set(o,e,t)},goog.object.get=function(o,e,t){return e in o?o[e]:t},goog.object.set=function(o,e,t){o[e]=t},goog.object.setIfUndefined=function(o,e,t){return e in o?o[e]:o[e]=t},goog.object.equals=function(o,e){if(!goog.array.equals(goog.object.getKeys(o),goog.object.getKeys(e)))return!1;for(var t in o)if(o[t]!==e[t])return!1;return!0},goog.object.clone=function(o){var e={};for(var t in o)e[t]=o[t];return e},goog.object.unsafeClone=function(o){var e=goog.typeOf(o);if("object"==e||"array"==e){if(o.clone)return o.clone();var t="array"==e?[]:{};for(var r in o)t[r]=goog.object.unsafeClone(o[r]);return t}return o},goog.object.transpose=function(o){var e={};for(var t in o)e[o[t]]=t;return e},goog.object.PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],goog.object.extend=function(o,e){for(var t,r,n=1;n<arguments.length;n++){r=arguments[n];for(t in r)o[t]=r[t];for(var g=0;g<goog.object.PROTOTYPE_FIELDS_.length;g++)t=goog.object.PROTOTYPE_FIELDS_[g],Object.prototype.hasOwnProperty.call(r,t)&&(o[t]=r[t])}},goog.object.create=function(o){var e=arguments.length;if(1==e&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(e%2)throw Error("Uneven number of arguments");for(var t={},r=0;e>r;r+=2)t[arguments[r]]=arguments[r+1];return t},goog.object.createSet=function(o){var e=arguments.length;if(1==e&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var t={},r=0;e>r;r++)t[arguments[r]]=!0;return t},goog.object.createImmutableView=function(o){var e=o;return Object.isFrozen&&!Object.isFrozen(o)&&(e=Object.create(o),Object.freeze(e)),e},goog.object.isImmutableView=function(o){return!!Object.isFrozen&&Object.isFrozen(o)},goog.provide("goog.labs.userAgent.util"),goog.require("goog.string"),goog.labs.userAgent.util.getNativeUserAgentString_=function(){var o=goog.labs.userAgent.util.getNavigator_();if(o){var e=o.userAgent;if(e)return e}return""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(o){goog.labs.userAgent.util.userAgent_=o||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(o){var e=goog.labs.userAgent.util.getUserAgent();return goog.string.contains(e,o)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(o){var e=goog.labs.userAgent.util.getUserAgent();return goog.string.caseInsensitiveContains(e,o)},goog.labs.userAgent.util.extractVersionTuples=function(o){for(var e,t=new RegExp("(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),r=[];e=t.exec(o);)r.push([e[1],e[2],e[3]||void 0]);return r},goog.provide("goog.labs.userAgent.browser"),goog.require("goog.array"),goog.require("goog.labs.userAgent.util"),goog.require("goog.object"),goog.require("goog.string"),goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")||goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!goog.labs.userAgent.util.matchUserAgent("Chrome")&&!goog.labs.userAgent.util.matchUserAgent("CriOS")&&!goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.browser.matchChrome_=function(){return goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS")},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return!goog.labs.userAgent.browser.isChrome()&&goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function o(o){var e=goog.array.find(o,n);return r[e]||""}var e=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(e);var t=goog.labs.userAgent.util.extractVersionTuples(e),r={};goog.array.forEach(t,function(o){var e=o[0],t=o[1];r[e]=t});var n=goog.partial(goog.object.containsKey,r);if(goog.labs.userAgent.browser.isOpera())return o(["Version","Opera","OPR"]);if(goog.labs.userAgent.browser.isChrome())return o(["Chrome","CriOS"]);var g=t[2];return g&&g[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(o){return goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(),o)>=0},goog.labs.userAgent.browser.getIEVersion_=function(o){var e=/rv: *([\d\.]*)/.exec(o);if(e&&e[1])return e[1];var t="",r=/MSIE +([\d\.]+)/.exec(o);if(r&&r[1]){var n=/Trident\/(\d.\d)/.exec(o);if("7.0"==r[1])if(n&&n[1])switch(n[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=r[1]}return t},goog.provide("goog.labs.userAgent.engine"),goog.require("goog.array"),goog.require("goog.labs.userAgent.util"),goog.require("goog.string"),goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()},goog.labs.userAgent.engine.getVersion=function(){var o=goog.labs.userAgent.util.getUserAgent();if(o){var e=goog.labs.userAgent.util.extractVersionTuples(o),t=e[1];if(t)return"Gecko"==t[0]?goog.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):t[1];var r,n=e[0];if(n&&(r=n[2])){var g=/Trident\/([^\s;]+)/.exec(r);if(g)return g[1]}}return""},goog.labs.userAgent.engine.isVersionOrHigher=function(o){return goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),o)>=0},goog.labs.userAgent.engine.getVersionForKey_=function(o,e){var t=goog.array.find(o,function(o){return e==o[0]});return t&&t[1]||""},goog.provide("goog.reflect"),goog.reflect.object=function(o,e){return e},goog.reflect.sinkValue=function(o){return goog.reflect.sinkValue[" "](o),o},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(o,e){try{return goog.reflect.sinkValue(o[e]),!0}catch(t){}return!1},goog.provide("goog.userAgent"),goog.require("goog.labs.userAgent.browser"),goog.require("goog.labs.userAgent.engine"),goog.require("goog.labs.userAgent.util"),goog.require("goog.string"),goog.define("goog.userAgent.ASSUME_IE",!1),goog.define("goog.userAgent.ASSUME_GECKO",!1),goog.define("goog.userAgent.ASSUME_WEBKIT",!1),goog.define("goog.userAgent.ASSUME_MOBILE_WEBKIT",!1),goog.define("goog.userAgent.ASSUME_OPERA",!1),goog.define("goog.userAgent.ASSUME_ANY_VERSION",!1),goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigator=function(){return goog.global.navigator||null},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var o=goog.userAgent.getNavigator();return o&&o.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.define("goog.userAgent.ASSUME_MAC",!1),goog.define("goog.userAgent.ASSUME_WINDOWS",!1),goog.define("goog.userAgent.ASSUME_LINUX",!1),goog.define("goog.userAgent.ASSUME_X11",!1),goog.define("goog.userAgent.ASSUME_ANDROID",!1),goog.define("goog.userAgent.ASSUME_IPHONE",!1),goog.define("goog.userAgent.ASSUME_IPAD",!1),goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD,goog.userAgent.initPlatform_=function(){goog.userAgent.detectedMac_=goog.string.contains(goog.userAgent.PLATFORM,"Mac"),goog.userAgent.detectedWindows_=goog.string.contains(goog.userAgent.PLATFORM,"Win"),goog.userAgent.detectedLinux_=goog.string.contains(goog.userAgent.PLATFORM,"Linux"),goog.userAgent.detectedX11_=!!goog.userAgent.getNavigator()&&goog.string.contains(goog.userAgent.getNavigator().appVersion||"","X11");var o=goog.userAgent.getUserAgentString();goog.userAgent.detectedAndroid_=!!o&&goog.string.contains(o,"Android"),goog.userAgent.detectedIPhone_=!!o&&goog.string.contains(o,"iPhone"),goog.userAgent.detectedIPad_=!!o&&goog.string.contains(o,"iPad")},goog.userAgent.PLATFORM_KNOWN_||goog.userAgent.initPlatform_(),goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.userAgent.detectedMac_,goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.userAgent.detectedWindows_,goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.detectedLinux_,goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.detectedX11_,goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.userAgent.detectedAndroid_,goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.userAgent.detectedIPhone_,goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.userAgent.detectedIPad_,goog.userAgent.determineVersion_=function(){var o,e="";if(goog.userAgent.OPERA&&goog.global.opera){var t=goog.global.opera.version;return goog.isFunction(t)?t():t}if(goog.userAgent.GECKO?o=/rv\:([^\);]+)(\)|;)/:goog.userAgent.IE?o=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:goog.userAgent.WEBKIT&&(o=/WebKit\/(\S+)/),o){var r=o.exec(goog.userAgent.getUserAgentString());e=r?r[1]:""}if(goog.userAgent.IE){var n=goog.userAgent.getDocumentMode_();if(n>parseFloat(e))return String(n)}return e},goog.userAgent.getDocumentMode_=function(){var o=goog.global.document;return o?o.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(o,e){return goog.string.compareVersions(o,e)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(o){return goog.userAgent.ASSUME_ANY_VERSION||goog.userAgent.isVersionOrHigherCache_[o]||(goog.userAgent.isVersionOrHigherCache_[o]=goog.string.compareVersions(goog.userAgent.VERSION,o)>=0)},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(o){return goog.userAgent.IE&&goog.userAgent.DOCUMENT_MODE>=o},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){var o=goog.global.document;if(o&&goog.userAgent.IE){var e=goog.userAgent.getDocumentMode_();return e||("CSS1Compat"==o.compatMode?parseInt(goog.userAgent.VERSION,10):5)}}(),goog.provide("goog.events.EventType"),goog.require("goog.userAgent"),goog.events.getVendorPrefixedName_=function(o){return goog.userAgent.WEBKIT?"webkit"+o:goog.userAgent.OPERA?"o"+o.toLowerCase():o.toLowerCase()},goog.events.EventType={CLICK:"click",RIGHTCLICK:"rightclick",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEWHEEL:goog.userAgent.GECKO?"DOMMouseScroll":"mousewheel",SELECTSTART:"selectstart",WHEEL:"wheel",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:goog.userAgent.IE?"focusin":"DOMFocusIn",FOCUSOUT:goog.userAgent.IE?"focusout":"DOMFocusOut",CHANGE:"change",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",DRAGEND:"dragend",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",BEFOREUNLOAD:"beforeunload",CONSOLEMESSAGE:"consolemessage",CONTEXTMENU:"contextmenu",DOMCONTENTLOADED:"DOMContentLoaded",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",ORIENTATIONCHANGE:"orientationchange",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",ANIMATIONSTART:goog.events.getVendorPrefixedName_("AnimationStart"),ANIMATIONEND:goog.events.getVendorPrefixedName_("AnimationEnd"),ANIMATIONITERATION:goog.events.getVendorPrefixedName_("AnimationIteration"),TRANSITIONEND:goog.events.getVendorPrefixedName_("TransitionEnd"),POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTERCANCEL:"pointercancel",POINTERMOVE:"pointermove",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",MSGESTURECHANGE:"MSGestureChange",MSGESTUREEND:"MSGestureEnd",MSGESTUREHOLD:"MSGestureHold",MSGESTURESTART:"MSGestureStart",MSGESTURETAP:"MSGestureTap",MSGOTPOINTERCAPTURE:"MSGotPointerCapture",MSINERTIASTART:"MSInertiaStart",MSLOSTPOINTERCAPTURE:"MSLostPointerCapture",MSPOINTERCANCEL:"MSPointerCancel",MSPOINTERDOWN:"MSPointerDown",MSPOINTERENTER:"MSPointerEnter",MSPOINTERHOVER:"MSPointerHover",MSPOINTERLEAVE:"MSPointerLeave",MSPOINTERMOVE:"MSPointerMove",MSPOINTEROUT:"MSPointerOut",MSPOINTEROVER:"MSPointerOver",MSPOINTERUP:"MSPointerUp",TEXTINPUT:"textinput",COMPOSITIONSTART:"compositionstart",COMPOSITIONUPDATE:"compositionupdate",COMPOSITIONEND:"compositionend",EXIT:"exit",LOADABORT:"loadabort",LOADCOMMIT:"loadcommit",LOADREDIRECT:"loadredirect",LOADSTART:"loadstart",LOADSTOP:"loadstop",RESPONSIVE:"responsive",SIZECHANGED:"sizechanged",UNRESPONSIVE:"unresponsive",VISIBILITYCHANGE:"visibilitychange",STORAGE:"storage",DOMSUBTREEMODIFIED:"DOMSubtreeModified",DOMNODEINSERTED:"DOMNodeInserted",DOMNODEREMOVED:"DOMNodeRemoved",DOMNODEREMOVEDFROMDOCUMENT:"DOMNodeRemovedFromDocument",DOMNODEINSERTEDINTODOCUMENT:"DOMNodeInsertedIntoDocument",DOMATTRMODIFIED:"DOMAttrModified",DOMCHARACTERDATAMODIFIED:"DOMCharacterDataModified"},goog.provide("goog.events.BrowserFeature"),goog.require("goog.userAgent"),goog.events.BrowserFeature={HAS_W3C_BUTTON:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),HAS_W3C_EVENT_SUPPORT:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),HAS_NAVIGATOR_ONLINE_PROPERTY:!goog.userAgent.WEBKIT||goog.userAgent.isVersionOrHigher("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9b")||goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("8")||goog.userAgent.OPERA&&goog.userAgent.isVersionOrHigher("9.5")||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:goog.userAgent.GECKO&&!goog.userAgent.isVersionOrHigher("8")||goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),TOUCH_ENABLED:"ontouchstart"in goog.global||!!(goog.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!goog.global.navigator||!goog.global.navigator.msMaxTouchPoints)},goog.provide("goog.events.BrowserEvent"),goog.provide("goog.events.BrowserEvent.MouseButton"),goog.require("goog.events.BrowserFeature"),goog.require("goog.events.Event"),goog.require("goog.events.EventType"),goog.require("goog.reflect"),goog.require("goog.userAgent"),goog.events.BrowserEvent=function(o,e){goog.events.BrowserEvent.base(this,"constructor",o?o.type:""),this.target=null,this.currentTarget=null,this.relatedTarget=null,this.offsetX=0,this.offsetY=0,this.clientX=0,this.clientY=0,this.screenX=0,this.screenY=0,this.button=0,this.keyCode=0,this.charCode=0,this.ctrlKey=!1,this.altKey=!1,this.shiftKey=!1,this.metaKey=!1,this.state=null,this.platformModifierKey=!1,this.event_=null,o&&this.init(o,e)},goog.inherits(goog.events.BrowserEvent,goog.events.Event),goog.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2},goog.events.BrowserEvent.IEButtonMap=[1,4,2],goog.events.BrowserEvent.prototype.init=function(o,e){var t=this.type=o.type;this.target=o.target||o.srcElement,this.currentTarget=e;var r=o.relatedTarget;r?goog.userAgent.GECKO&&(goog.reflect.canAccessProperty(r,"nodeName")||(r=null)):t==goog.events.EventType.MOUSEOVER?r=o.fromElement:t==goog.events.EventType.MOUSEOUT&&(r=o.toElement),this.relatedTarget=r,this.offsetX=goog.userAgent.WEBKIT||void 0!==o.offsetX?o.offsetX:o.layerX,this.offsetY=goog.userAgent.WEBKIT||void 0!==o.offsetY?o.offsetY:o.layerY,this.clientX=void 0!==o.clientX?o.clientX:o.pageX,
this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0,this.button=o.button,this.keyCode=o.keyCode||0,this.charCode=o.charCode||("keypress"==t?o.keyCode:0),this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.platformModifierKey=goog.userAgent.MAC?o.metaKey:o.ctrlKey,this.state=o.state,this.event_=o,o.defaultPrevented&&this.preventDefault()},goog.events.BrowserEvent.prototype.isButton=function(o){return goog.events.BrowserFeature.HAS_W3C_BUTTON?this.event_.button==o:"click"==this.type?o==goog.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&goog.events.BrowserEvent.IEButtonMap[o])},goog.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT)&&!(goog.userAgent.WEBKIT&&goog.userAgent.MAC&&this.ctrlKey)},goog.events.BrowserEvent.prototype.stopPropagation=function(){goog.events.BrowserEvent.superClass_.stopPropagation.call(this),this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0},goog.events.BrowserEvent.prototype.preventDefault=function(){goog.events.BrowserEvent.superClass_.preventDefault.call(this);var o=this.event_;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)try{var e=112,t=123;(o.ctrlKey||o.keyCode>=e&&o.keyCode<=t)&&(o.keyCode=-1)}catch(r){}},goog.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_},goog.events.BrowserEvent.prototype.disposeInternal=function(){},goog.provide("goog.debug.EntryPointMonitor"),goog.provide("goog.debug.entryPointRegistry"),goog.require("goog.asserts"),goog.debug.EntryPointMonitor=function(){},goog.debug.EntryPointMonitor.prototype.wrap,goog.debug.EntryPointMonitor.prototype.unwrap,goog.debug.entryPointRegistry.refList_=[],goog.debug.entryPointRegistry.monitors_=[],goog.debug.entryPointRegistry.monitorsMayExist_=!1,goog.debug.entryPointRegistry.register=function(o){if(goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=o,goog.debug.entryPointRegistry.monitorsMayExist_)for(var e=goog.debug.entryPointRegistry.monitors_,t=0;t<e.length;t++)o(goog.bind(e[t].wrap,e[t]))},goog.debug.entryPointRegistry.monitorAll=function(o){goog.debug.entryPointRegistry.monitorsMayExist_=!0;for(var e=goog.bind(o.wrap,o),t=0;t<goog.debug.entryPointRegistry.refList_.length;t++)goog.debug.entryPointRegistry.refList_[t](e);goog.debug.entryPointRegistry.monitors_.push(o)},goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(o){var e=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(o==e[e.length-1],"Only the most recent monitor can be unwrapped.");for(var t=goog.bind(o.unwrap,o),r=0;r<goog.debug.entryPointRegistry.refList_.length;r++)goog.debug.entryPointRegistry.refList_[r](t);e.length--},goog.provide("goog.events.Listenable"),goog.provide("goog.events.ListenableKey"),goog.require("goog.events.EventId"),goog.events.Listenable=function(){},goog.events.Listenable.IMPLEMENTED_BY_PROP="closure_listenable_"+(1e6*Math.random()|0),goog.events.Listenable.addImplementation=function(o){o.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP]=!0},goog.events.Listenable.isImplementedBy=function(o){return!(!o||!o[goog.events.Listenable.IMPLEMENTED_BY_PROP])},goog.events.Listenable.prototype.listen,goog.events.Listenable.prototype.listenOnce,goog.events.Listenable.prototype.unlisten,goog.events.Listenable.prototype.unlistenByKey,goog.events.Listenable.prototype.dispatchEvent,goog.events.Listenable.prototype.removeAllListeners,goog.events.Listenable.prototype.getParentEventTarget,goog.events.Listenable.prototype.fireListeners,goog.events.Listenable.prototype.getListeners,goog.events.Listenable.prototype.getListener,goog.events.Listenable.prototype.hasListener,goog.events.ListenableKey=function(){},goog.events.ListenableKey.counter_=0,goog.events.ListenableKey.reserveKey=function(){return++goog.events.ListenableKey.counter_},goog.events.ListenableKey.prototype.src,goog.events.ListenableKey.prototype.type,goog.events.ListenableKey.prototype.listener,goog.events.ListenableKey.prototype.capture,goog.events.ListenableKey.prototype.handler,goog.events.ListenableKey.prototype.key,goog.provide("goog.events.Listener"),goog.require("goog.events.ListenableKey"),goog.events.Listener=function(o,e,t,r,n,g){goog.events.Listener.ENABLE_MONITORING&&(this.creationStack=(new Error).stack),this.listener=o,this.proxy=e,this.src=t,this.type=r,this.capture=!!n,this.handler=g,this.key=goog.events.ListenableKey.reserveKey(),this.callOnce=!1,this.removed=!1},goog.define("goog.events.Listener.ENABLE_MONITORING",!1),goog.events.Listener.prototype.creationStack,goog.events.Listener.prototype.markAsRemoved=function(){this.removed=!0,this.listener=null,this.proxy=null,this.src=null,this.handler=null},goog.provide("goog.events.ListenerMap"),goog.require("goog.array"),goog.require("goog.events.Listener"),goog.require("goog.object"),goog.events.ListenerMap=function(o){this.src=o,this.listeners={},this.typeCount_=0},goog.events.ListenerMap.prototype.getTypeCount=function(){return this.typeCount_},goog.events.ListenerMap.prototype.getListenerCount=function(){var o=0;for(var e in this.listeners)o+=this.listeners[e].length;return o},goog.events.ListenerMap.prototype.add=function(o,e,t,r,n){var g=o.toString(),s=this.listeners[g];s||(s=this.listeners[g]=[],this.typeCount_++);var i,a=goog.events.ListenerMap.findListenerIndex_(s,e,r,n);return a>-1?(i=s[a],t||(i.callOnce=!1)):(i=new goog.events.Listener(e,null,this.src,g,!!r,n),i.callOnce=t,s.push(i)),i},goog.events.ListenerMap.prototype.remove=function(o,e,t,r){var n=o.toString();if(!(n in this.listeners))return!1;var g=this.listeners[n],s=goog.events.ListenerMap.findListenerIndex_(g,e,t,r);if(s>-1){var i=g[s];return i.markAsRemoved(),goog.array.removeAt(g,s),0==g.length&&(delete this.listeners[n],this.typeCount_--),!0}return!1},goog.events.ListenerMap.prototype.removeByKey=function(o){var e=o.type;if(!(e in this.listeners))return!1;var t=goog.array.remove(this.listeners[e],o);return t&&(o.markAsRemoved(),0==this.listeners[e].length&&(delete this.listeners[e],this.typeCount_--)),t},goog.events.ListenerMap.prototype.removeAll=function(o){var e=o&&o.toString(),t=0;for(var r in this.listeners)if(!e||r==e){for(var n=this.listeners[r],g=0;g<n.length;g++)++t,n[g].markAsRemoved();delete this.listeners[r],this.typeCount_--}return t},goog.events.ListenerMap.prototype.getListeners=function(o,e){var t=this.listeners[o.toString()],r=[];if(t)for(var n=0;n<t.length;++n){var g=t[n];g.capture==e&&r.push(g)}return r},goog.events.ListenerMap.prototype.getListener=function(o,e,t,r){var n=this.listeners[o.toString()],g=-1;return n&&(g=goog.events.ListenerMap.findListenerIndex_(n,e,t,r)),g>-1?n[g]:null},goog.events.ListenerMap.prototype.hasListener=function(o,e){var t=goog.isDef(o),r=t?o.toString():"",n=goog.isDef(e);return goog.object.some(this.listeners,function(o,g){for(var s=0;s<o.length;++s)if(!(t&&o[s].type!=r||n&&o[s].capture!=e))return!0;return!1})},goog.events.ListenerMap.findListenerIndex_=function(o,e,t,r){for(var n=0;n<o.length;++n){var g=o[n];if(!g.removed&&g.listener==e&&g.capture==!!t&&g.handler==r)return n}return-1},goog.provide("goog.events"),goog.provide("goog.events.CaptureSimulationMode"),goog.provide("goog.events.Key"),goog.provide("goog.events.ListenableType"),goog.require("goog.asserts"),goog.require("goog.debug.entryPointRegistry"),goog.require("goog.events.BrowserEvent"),goog.require("goog.events.BrowserFeature"),goog.require("goog.events.Listenable"),goog.require("goog.events.ListenerMap"),goog.forwardDeclare("goog.debug.ErrorHandler"),goog.forwardDeclare("goog.events.EventWrapper"),goog.events.Key,goog.events.ListenableType,goog.events.LISTENER_MAP_PROP_="closure_lm_"+(1e6*Math.random()|0),goog.events.onString_="on",goog.events.onStringMap_={},goog.events.CaptureSimulationMode={OFF_AND_FAIL:0,OFF_AND_SILENT:1,ON:2},goog.define("goog.events.CAPTURE_SIMULATION_MODE",2),goog.events.listenerCountEstimate_=0,goog.events.listen=function(o,e,t,r,n){if(goog.isArray(e)){for(var g=0;g<e.length;g++)goog.events.listen(o,e[g],t,r,n);return null}return t=goog.events.wrapListener(t),goog.events.Listenable.isImplementedBy(o)?o.listen(e,t,r,n):goog.events.listen_(o,e,t,!1,r,n)},goog.events.listen_=function(o,e,t,r,n,g){if(!e)throw Error("Invalid event type");var s=!!n;if(s&&!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_FAIL)return goog.asserts.fail("Can not register capture listener in IE8-."),null;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_SILENT)return null}var i=goog.events.getListenerMap_(o);i||(o[goog.events.LISTENER_MAP_PROP_]=i=new goog.events.ListenerMap(o));var a=i.add(e,t,r,n,g);if(a.proxy)return a;var u=goog.events.getProxy();return a.proxy=u,u.src=o,u.listener=a,o.addEventListener?o.addEventListener(e.toString(),u,s):o.attachEvent(goog.events.getOnString_(e.toString()),u),goog.events.listenerCountEstimate_++,a},goog.events.getProxy=function(){var o=goog.events.handleBrowserEvent_,e=goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(t){return o.call(e.src,e.listener,t)}:function(t){var r=o.call(e.src,e.listener,t);return r?void 0:r};return e},goog.events.listenOnce=function(o,e,t,r,n){if(goog.isArray(e)){for(var g=0;g<e.length;g++)goog.events.listenOnce(o,e[g],t,r,n);return null}return t=goog.events.wrapListener(t),goog.events.Listenable.isImplementedBy(o)?o.listenOnce(e,t,r,n):goog.events.listen_(o,e,t,!0,r,n)},goog.events.listenWithWrapper=function(o,e,t,r,n){e.listen(o,t,r,n)},goog.events.unlisten=function(o,e,t,r,n){if(goog.isArray(e)){for(var g=0;g<e.length;g++)goog.events.unlisten(o,e[g],t,r,n);return null}if(t=goog.events.wrapListener(t),goog.events.Listenable.isImplementedBy(o))return o.unlisten(e,t,r,n);if(!o)return!1;var s=!!r,i=goog.events.getListenerMap_(o);if(i){var a=i.getListener(e,t,s,n);if(a)return goog.events.unlistenByKey(a)}return!1},goog.events.unlistenByKey=function(o){if(goog.isNumber(o))return!1;var e=o;if(!e||e.removed)return!1;var t=e.src;if(goog.events.Listenable.isImplementedBy(t))return t.unlistenByKey(e);var r=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(r,n,e.capture):t.detachEvent&&t.detachEvent(goog.events.getOnString_(r),n),goog.events.listenerCountEstimate_--;var g=goog.events.getListenerMap_(t);return g?(g.removeByKey(e),0==g.getTypeCount()&&(g.src=null,t[goog.events.LISTENER_MAP_PROP_]=null)):e.markAsRemoved(),!0},goog.events.unlistenWithWrapper=function(o,e,t,r,n){e.unlisten(o,t,r,n)},goog.events.removeAll=function(o,e){if(!o)return 0;if(goog.events.Listenable.isImplementedBy(o))return o.removeAllListeners(e);var t=goog.events.getListenerMap_(o);if(!t)return 0;var r=0,n=e&&e.toString();for(var g in t.listeners)if(!n||g==n)for(var s=t.listeners[g].concat(),i=0;i<s.length;++i)goog.events.unlistenByKey(s[i])&&++r;return r},goog.events.removeAllNativeListeners=function(){return goog.events.listenerCountEstimate_=0,0},goog.events.getListeners=function(o,e,t){if(goog.events.Listenable.isImplementedBy(o))return o.getListeners(e,t);if(!o)return[];var r=goog.events.getListenerMap_(o);return r?r.getListeners(e,t):[]},goog.events.getListener=function(o,e,t,r,n){e=e,t=goog.events.wrapListener(t);var g=!!r;if(goog.events.Listenable.isImplementedBy(o))return o.getListener(e,t,g,n);if(!o)return null;var s=goog.events.getListenerMap_(o);return s?s.getListener(e,t,g,n):null},goog.events.hasListener=function(o,e,t){if(goog.events.Listenable.isImplementedBy(o))return o.hasListener(e,t);var r=goog.events.getListenerMap_(o);return!!r&&r.hasListener(e,t)},goog.events.expose=function(o){var e=[];for(var t in o)o[t]&&o[t].id?e.push(t+" = "+o[t]+" ("+o[t].id+")"):e.push(t+" = "+o[t]);return e.join("\n")},goog.events.getOnString_=function(o){return o in goog.events.onStringMap_?goog.events.onStringMap_[o]:goog.events.onStringMap_[o]=goog.events.onString_+o},goog.events.fireListeners=function(o,e,t,r){return goog.events.Listenable.isImplementedBy(o)?o.fireListeners(e,t,r):goog.events.fireListeners_(o,e,t,r)},goog.events.fireListeners_=function(o,e,t,r){var n=1,g=goog.events.getListenerMap_(o);if(g){var s=g.listeners[e.toString()];if(s){s=s.concat();for(var i=0;i<s.length;i++){var a=s[i];a&&a.capture==t&&!a.removed&&(n&=goog.events.fireListener(a,r)!==!1)}}}return Boolean(n)},goog.events.fireListener=function(o,e){var t=o.listener,r=o.handler||o.src;return o.callOnce&&goog.events.unlistenByKey(o),t.call(r,e)},goog.events.getTotalListenerCount=function(){return goog.events.listenerCountEstimate_},goog.events.dispatchEvent=function(o,e){return goog.asserts.assert(goog.events.Listenable.isImplementedBy(o),"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance."),o.dispatchEvent(e)},goog.events.protectBrowserEventEntryPoint=function(o){goog.events.handleBrowserEvent_=o.protectEntryPoint(goog.events.handleBrowserEvent_)},goog.events.handleBrowserEvent_=function(o,e){if(o.removed)return!0;if(!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){var t=e||goog.getObjectByName("window.event"),r=new goog.events.BrowserEvent(t,this),n=!0;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.ON){if(!goog.events.isMarkedIeEvent_(t)){goog.events.markIeEvent_(t);for(var g=[],s=r.currentTarget;s;s=s.parentNode)g.push(s);for(var i=o.type,a=g.length-1;!r.propagationStopped_&&a>=0;a--)r.currentTarget=g[a],n&=goog.events.fireListeners_(g[a],i,!0,r);for(var a=0;!r.propagationStopped_&&a<g.length;a++)r.currentTarget=g[a],n&=goog.events.fireListeners_(g[a],i,!1,r)}}else n=goog.events.fireListener(o,r);return n}return goog.events.fireListener(o,new goog.events.BrowserEvent(e,this))},goog.events.markIeEvent_=function(o){var e=!1;if(0==o.keyCode)try{return void(o.keyCode=-1)}catch(t){e=!0}(e||void 0==o.returnValue)&&(o.returnValue=!0)},goog.events.isMarkedIeEvent_=function(o){return o.keyCode<0||void 0!=o.returnValue},goog.events.uniqueIdCounter_=0,goog.events.getUniqueId=function(o){return o+"_"+goog.events.uniqueIdCounter_++},goog.events.getListenerMap_=function(o){var e=o[goog.events.LISTENER_MAP_PROP_];return e instanceof goog.events.ListenerMap?e:null},goog.events.LISTENER_WRAPPER_PROP_="__closure_events_fn_"+(1e9*Math.random()>>>0),goog.events.wrapListener=function(o){return goog.asserts.assert(o,"Listener can not be null."),goog.isFunction(o)?o:(goog.asserts.assert(o.handleEvent,"An object listener must have handleEvent method."),o[goog.events.LISTENER_WRAPPER_PROP_]||(o[goog.events.LISTENER_WRAPPER_PROP_]=function(e){return o.handleEvent(e)}),o[goog.events.LISTENER_WRAPPER_PROP_])},goog.debug.entryPointRegistry.register(function(o){goog.events.handleBrowserEvent_=o(goog.events.handleBrowserEvent_)});var P={version:"1.0.0"};"object"==typeof module&&"object"==typeof module.exports?module.exports=P:"function"==typeof define&&define.amd&&define(P),"undefined"!=typeof window&&expose(),P.c={TWO_PI:2*Math.PI,HALF_PI:Math.PI/2,FITTING_COUNT:100,ZERO_TOLERANCE:1e-4},P.u={_stampId:0},P.u.trim=function(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")},P.u.stamp=function(o){var e="_p_id_";return o[e]=o[e]||this._stampId++,o[e]},P.du={},P.du.create=function(o,e,t,r){var n=document.createElement(o);return n.className=e||"",r&&(n.id=r),t&&t.appendChild(n),n},P.du.createHidden=function(o,e,t){var r=document.createElement(o);return r.style.display="none",t&&(r.id=t),e&&e.appendChild(r),r},P.du.remove=function(o,e){e&&o&&e.removeChild(o)},P.du.get=function(o){return document.getElementById(o)},P.du.getStyle=function(o,e){var t=o.style[e];return"auto"===t?null:t},P.du.hasClass=function(o,e){return o.className.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(o.className)},P.du.addClass=function(o,e){this.hasClass(o,e)||(o.className&&(o.className+=" "),o.className+=e)},P.du.removeClass=function(o,e){o.className=P.u.trim((" "+o.className+" ").replace(" "+e+" "," "))},P.du.getDomEventKey=function(o,e,t){return"_p_dom_event_"+o+"_"+P.u.stamp(e)+(t?"_"+P.u.stamp(t):"")},P.du.addListener=function(o,e,t,r){var n=this,g=P.du.getDomEventKey(e,t,r),s=o[g];return s?n:(s=function(e){return t.call(r||o,e)},"addEventListener"in o?o.addEventListener(e,s,!1):"attachEvent"in o&&o.attachEvent("on"+e,s),o[g]=s,n)},P.du.removeListener=function(o,e,t,r){var n=this,g=P.du.getDomEventKey(e,t,r),s=o[g];return s?("removeEventListener"in o?o.removeEventListener(e,s,!1):"detachEvent"in o&&o.detachEvent("on"+e,s),o[g]=null,n):n},P.PlotTypes={ARC:"arc",ELLIPSE:"ellipse",CURVE:"curve",CLOSED_CURVE:"closedcurve",LUNE:"lune",SECTOR:"sector",GATHERING_PLACE:"gatheringplace",STRAIGHT_ARROW:"straightarrow",ASSAULT_DIRECTION:"assaultdirection",ATTACK_ARROW:"attackarrow",TAILED_ATTACK_ARROW:"tailedattackarrow",SQUAD_COMBAT:"squadcombat",TAILED_SQUAD_COMBAT:"tailedsquadcombat",FINE_ARROW:"finearrow",CIRCLE:"circle",DOUBLE_ARROW:"doublearrow",POLYLINE:"polyline",FREEHAND_POLYLINE:"freehandpolyline",POLYGON:"polygon",FREEHAND_POLYGON:"freehandpolygon",RECTANGLE:"rectangle",POINT:"point",TRIANGLE:"triangle"},P.pu={},P.pu.ua=function(o,e){return Math.sqrt(Math.pow(o[0]-e[0],2)+Math.pow(o[1]-e[1],2))},P.pu.uaa=function(o){for(var e=0,t=0;t<o.length-1;t++)e+=P.pu.ua(o[t],o[t+1]);return e},P.pu.uc=function(o){return Math.pow(P.pu.uaa(o),.99)},P.pu.ud=function(o,e){return[(o[0]+e[0])/2,(o[1]+e[1])/2]},P.pu.ue=function(o,e,t){var r=[(o[0]+e[0])/2,(o[1]+e[1])/2],n=[r[0]-o[1]+e[1],r[1]+o[0]-e[0]],g=[(o[0]+t[0])/2,(o[1]+t[1])/2],s=[g[0]-o[1]+t[1],g[1]+o[0]-t[0]];return P.pu.uf(r,n,g,s)},P.pu.uf=function(o,e,t,r){if(o[1]==e[1]){var n=(r[0]-t[0])/(r[1]-t[1]),g=n*(o[1]-t[1])+t[0],s=o[1];return[g,s]}if(t[1]==r[1]){var i=(e[0]-o[0])/(e[1]-o[1]);return g=i*(t[1]-o[1])+o[0],s=t[1],[g,s]}return i=(e[0]-o[0])/(e[1]-o[1]),n=(r[0]-t[0])/(r[1]-t[1]),s=(i*o[1]-o[0]-n*t[1]+t[0])/(i-n),g=i*s-i*o[1]+o[0],[g,s]},P.pu.ug=function(o,e){var t,r=Math.asin(Math.abs(e[1]-o[1])/P.pu.ua(o,e));return e[1]>=o[1]&&e[0]>=o[0]?t=r+Math.PI:e[1]>=o[1]&&e[0]<o[0]?t=P.c.TWO_PI-r:e[1]<o[1]&&e[0]<o[0]?t=r:e[1]<o[1]&&e[0]>=o[0]&&(t=Math.PI-r),t},P.pu.uh=function(o,e,t){var r=P.pu.ug(e,o)-P.pu.ug(e,t);return 0>r?r+P.c.TWO_PI:r},P.pu.ui=function(o,e,t){return(t[1]-o[1])*(e[0]-o[0])>(e[1]-o[1])*(t[0]-o[0])},P.pu.uj=function(o,e,t){var r=e[0]+o*(t[0]-e[0]),n=e[1]+o*(t[1]-e[1]);return[r,n]},P.pu.uk=function(o,e,t,r,n){o=Math.max(Math.min(o,1),0);var g=1-o,s=o*o,i=s*o,a=g*g,u=a*g,l=u*e[0]+3*a*o*t[0]+3*g*s*r[0]+i*n[0],c=u*e[1]+3*a*o*t[1]+3*g*s*r[1]+i*n[1];return[l,c]},P.pu.ul=function(o,e,t,r,n){var g=P.pu.ug(o,e),s=n?g+t:g-t,i=r*Math.cos(s),a=r*Math.sin(s);return[e[0]+i,e[1]+a]},P.pu.um=function(o,e,t,r){var n,g,s=[],i=r-t;i=0>i?i+P.c.TWO_PI:i;for(var a=0;a<=P.c.FITTING_COUNT;a++){var u=t+i*a/P.c.FITTING_COUNT;n=o[0]+e*Math.cos(u),g=o[1]+e*Math.sin(u),s.push([n,g])}return s},P.pu.un=function(o,e,t,r){var n=P.pu.uo(e,t,r),g=Math.sqrt(n[0]*n[0]+n[1]*n[1]),s=n[0]/g,i=n[1]/g,a=P.pu.ua(e,t),u=P.pu.ua(t,r);if(g>P.c.ZERO_TOLERANCE)if(P.pu.ui(e,t,r)){var l=o*a,c=t[0]-l*i,p=t[1]+l*s,h=[c,p];l=o*u,c=t[0]+l*i,p=t[1]-l*s;var f=[c,p]}else l=o*a,c=t[0]+l*i,p=t[1]-l*s,h=[c,p],l=o*u,c=t[0]-l*i,p=t[1]+l*s,f=[c,p];else c=t[0]+o*(e[0]-t[0]),p=t[1]+o*(e[1]-t[1]),h=[c,p],c=t[0]+o*(r[0]-t[0]),p=t[1]+o*(r[1]-t[1]),f=[c,p];return[h,f]},P.pu.uo=function(o,e,t){var r=o[0]-e[0],n=o[1]-e[1],g=Math.sqrt(r*r+n*n);r/=g,n/=g;var s=t[0]-e[0],i=t[1]-e[1],a=Math.sqrt(s*s+i*i);s/=a,i/=a;var u=r+s,l=n+i;return[u,l]},P.pu.up=function(o,e){for(var t=P.pu.uq(e),r=[t],n=0;n<e.length-2;n++){var g=e[n],s=e[n+1],i=e[n+2],a=P.pu.un(o,g,s,i);r=r.concat(a)}var u=P.pu.ur(e);r.push(u);var l=[];for(n=0;n<e.length-1;n++){g=e[n],s=e[n+1],l.push(g);for(var o=0;o<P.c.FITTING_COUNT;o++){var c=P.pu.uk(o/P.c.FITTING_COUNT,g,r[2*n],r[2*n+1],s);l.push(c)}l.push(s)}return l},P.pu.uq=function(o){var e=o[0],r=o[1],n=o[2],g=P.pu.un(0,e,r,n),s=g[0],i=P.pu.uo(e,r,n),a=Math.sqrt(i[0]*i[0]+i[1]*i[1]);if(a>P.c.ZERO_TOLERANCE)var u=P.pu.ud(e,r),l=e[0]-u[0],c=e[1]-u[1],p=P.pu.ua(e,r),h=2/p,f=-h*c,d=h*l,E=f*f-d*d,v=2*f*d,_=d*d-f*f,A=s[0]-u[0],y=s[1]-u[1],O=u[0]+E*A+v*y,m=u[1]+v*A+_*y;else O=e[0]+t*(r[0]-e[0]),m=e[1]+t*(r[1]-e[1]);return[O,m]},P.pu.ur=function(o){var e=o.length,r=o[e-3],n=o[e-2],g=o[e-1],s=P.pu.un(0,r,n,g),i=s[1],a=P.pu.uo(r,n,g),u=Math.sqrt(a[0]*a[0]+a[1]*a[1]);if(u>P.c.ZERO_TOLERANCE)var l=P.pu.ud(n,g),c=g[0]-l[0],p=g[1]-l[1],h=P.pu.ua(n,g),f=2/h,d=-f*p,E=f*c,v=d*d-E*E,_=2*d*E,A=E*E-d*d,y=i[0]-l[0],O=i[1]-l[1],m=l[0]+v*y+_*O,T=l[1]+_*y+A*O;else m=g[0]+t*(n[0]-g[0]),T=g[1]+t*(n[1]-g[1]);return[m,T]},P.pu.us=function(o){if(o.length<=2)return o;for(var e=[],t=o.length-1,r=0;1>=r;r+=.01){for(var n=y=0,g=0;t>=g;g++){var s=P.pu.ut(t,g),i=Math.pow(r,g),a=Math.pow(1-r,t-g);n+=s*i*a*o[g][0],y+=s*i*a*o[g][1]}e.push([n,y])}return e.push(o[t]),e},P.pu.ut=function(o,e){return P.pu.uu(o)/(P.pu.uu(e)*P.pu.uu(o-e))},P.pu.uu=function(o){if(1>=o)return 1;if(2==o)return 2;if(3==o)return 6;if(4==o)return 24;if(5==o)return 120;for(var e=1,t=1;o>=t;t++)e*=t;return e},P.pu.uv=function(o){if(o.length<=2)return o;var e=2,t=[],r=o.length-e-1;t.push(o[0]);for(var n=0;r>=n;n++)for(var g=0;1>=g;g+=.05){for(var s=y=0,i=0;e>=i;i++){var a=P.pu.uw(i,g);s+=a*o[n+i][0],y+=a*o[n+i][1]}t.push([s,y])}return t.push(o[o.length-1]),t},P.pu.uw=function(o,e){return 0==o?Math.pow(e-1,2)/2:1==o?(-2*Math.pow(e,2)+2*e+1)/2:2==o?Math.pow(e,2)/2:0},P.Event={},P.Event.EventType={},P.Event.EventType.MOUSEMOVE="mousemove",P.Event.EventType.MOUSEUP="mouseup",P.Event.EventType.MOUSEDOWN="mousedown",P.Event.PlotDrawEvent=function(o,e){goog.base(this,o),this.feature=e},goog.inherits(P.Event.PlotDrawEvent,goog.events.Event),P.Event.PlotDrawEvent.DRAW_START="draw_start",P.Event.PlotDrawEvent.DRAW_END="draw_end",P.Plot=function(o){this.setPoints(o)},P.Plot.prototype={isPlot:function(){return!0},setPoints:function(o){this.points=o?o:[],this.points.length>=2&&this.pg()},getPoints:function(){return this.points.slice(0)},getPointCount:function(){return this.points.length},updatePoint:function(o,e){e>=0&&e<this.points.length&&(this.points[e]=o,this.pg())},updateLastPoint:function(o){this.updatePoint(o,this.points.length-1)},pg:function(){},finishDrawing:function(){}},P.Plot.p1=function(o){goog.base(this,[]),this.fixPointCount=3,this.setPoints(o)},goog.inherits(P.Plot.p1,ol.geom.LineString),goog.mixin(P.Plot.p1.prototype,P.Plot.prototype),P.Plot.p1.prototype.pg=function(){var o=this.getPointCount();if(!(2>o))if(2==o)this.setCoordinates(this.points);else{var e=this.points[0],t=this.points[1],r=this.points[2],n=P.pu.ue(e,t,r),g=P.pu.ua(e,n),s=P.pu.ug(e,n),i=P.pu.ug(t,n);if(P.pu.ui(e,t,r))var a=i,u=s;else a=s,u=i;this.setCoordinates(P.pu.um(n,g,a,u))}},P.Plot.p3=function(o){goog.base(this,[]),this.headHeightFactor=.18,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.headTailFactor=.8,this.setPoints(o)},goog.inherits(P.Plot.p3,ol.geom.Polygon),goog.mixin(P.Plot.p3.prototype,P.Plot.prototype),P.Plot.p3.prototype.pg=function(){if(!(this.getPointCount()<2)){if(2==this.getPointCount())return void this.setCoordinates([this.points]);var o=this.getPoints(),e=o[0],t=o[1];P.pu.ui(o[0],o[1],o[2])&&(e=o[1],t=o[0]);var r=P.pu.ud(e,t),n=[r].concat(o.slice(2)),g=this.getArrowHeadPoints(n,e,t),s=g[0],i=g[4],a=P.pu.ua(e,t)/P.pu.uc(n),u=this.getArrowBodyPoints(n,s,i,a),l=u.length,c=[e].concat(u.slice(0,l/2));c.push(s);var p=[t].concat(u.slice(l/2,l));p.push(i),c=P.pu.uv(c),p=P.pu.uv(p),this.setCoordinates([c.concat(g,p.reverse())])}},P.Plot.p3.prototype.getArrowHeadPoints=function(o,e,t){var r=P.pu.uc(o),n=r*this.headHeightFactor,g=o[o.length-1];r=P.pu.ua(g,o[o.length-2]);var s=P.pu.ua(e,t);n>s*this.headTailFactor&&(n=s*this.headTailFactor);var i=n*this.headWidthFactor,a=n*this.neckWidthFactor;n=n>r?r:n;var u=n*this.neckHeightFactor,l=P.pu.ul(o[o.length-2],g,0,n,!0),c=P.pu.ul(o[o.length-2],g,0,u,!0),p=P.pu.ul(g,l,P.c.HALF_PI,i,!1),h=P.pu.ul(g,l,P.c.HALF_PI,i,!0),f=P.pu.ul(g,c,P.c.HALF_PI,a,!1),d=P.pu.ul(g,c,P.c.HALF_PI,a,!0);return[f,p,g,h,d]},P.Plot.p3.prototype.getArrowBodyPoints=function(o,e,t,r){for(var n=P.pu.uaa(o),g=P.pu.uc(o),s=g*r,i=P.pu.ua(e,t),a=(s-i)/2,u=0,l=[],c=[],p=1;p<o.length-1;p++){var h=P.pu.uh(o[p-1],o[p],o[p+1])/2;u+=P.pu.ua(o[p-1],o[p]);var f=(s/2-u/n*a)/Math.sin(h),d=P.pu.ul(o[p-1],o[p],Math.PI-h,f,!0),E=P.pu.ul(o[p-1],o[p],h,f,!1);l.push(d),c.push(E)}return l.concat(c)},P.Plot.p13=function(o){goog.base(this,[]),this.headHeightFactor=.18,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.tailWidthFactor=.1,this.setPoints(o)},goog.inherits(P.Plot.p13,P.Plot.p3),P.Plot.p13.prototype.pg=function(){var o=this.getPoints(),e=this.getTailPoints(o),t=this.getArrowHeadPoints(o,e[0],e[1]),r=t[0],n=t[4],g=this.getArrowBodyPoints(o,r,n,this.tailWidthFactor),s=g.length,i=[e[0]].concat(g.slice(0,s/2));i.push(r);var a=[e[1]].concat(g.slice(s/2,s));a.push(n),i=P.pu.uv(i),a=P.pu.uv(a),this.setCoordinates([i.concat(t,a.reverse())])},P.Plot.p13.prototype.getTailPoints=function(o){var e=P.pu.uc(o),t=e*this.tailWidthFactor,r=P.pu.ul(o[1],o[0],P.c.HALF_PI,t,!1),n=P.pu.ul(o[1],o[0],P.c.HALF_PI,t,!0);return[r,n]},P.Plot.Tailedp3=function(o){goog.base(this,[]),this.headHeightFactor=.18,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.tailWidthFactor=.1,this.headTailFactor=.8,this.swallowTailFactor=1,this.swallowTailPnt=null,this.setPoints(o)},goog.inherits(P.Plot.Tailedp3,P.Plot.p3),P.Plot.Tailedp3.prototype.pg=function(){if(2==this.getPointCount())return void this.setCoordinates([this.points]);var o=this.getPoints(),e=o[0],t=o[1];P.pu.ui(o[0],o[1],o[2])&&(e=o[1],t=o[0]);var r=P.pu.ud(e,t),n=[r].concat(o.slice(2)),g=this.getArrowHeadPoints(n,e,t),s=g[0],i=g[4],a=P.pu.ua(e,t),u=P.pu.uc(n),l=u*this.tailWidthFactor*this.swallowTailFactor;this.swallowTailPnt=P.pu.ul(n[1],n[0],0,l,!0);var c=a/u,p=this.getArrowBodyPoints(n,s,i,c),h=p.length,f=[e].concat(p.slice(0,h/2));f.push(s);var d=[t].concat(p.slice(h/2,h));d.push(i),f=P.pu.uv(f),d=P.pu.uv(d),this.setCoordinates([f.concat(g,d.reverse(),[this.swallowTailPnt,f[0]])])},P.Plot.Tailedp13=function(o){goog.base(this,[]),this.headHeightFactor=.18,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.tailWidthFactor=.1,this.swallowTailFactor=1,this.swallowTailPnt=null,this.setPoints(o)},goog.inherits(P.Plot.Tailedp13,P.Plot.p3),P.Plot.Tailedp13.prototype.pg=function(){var o=this.getPoints(),e=this.getTailPoints(o),t=this.getArrowHeadPoints(o,e[0],e[2]),r=t[0],n=t[4],g=this.getArrowBodyPoints(o,r,n,this.tailWidthFactor),s=g.length,i=[e[0]].concat(g.slice(0,s/2));i.push(r);var a=[e[2]].concat(g.slice(s/2,s));a.push(n),i=P.pu.uv(i),a=P.pu.uv(a),this.setCoordinates([i.concat(t,a.reverse(),[e[1],i[0]])])},P.Plot.Tailedp13.prototype.getTailPoints=function(o){var e=P.pu.uc(o),t=e*this.tailWidthFactor,r=P.pu.ul(o[1],o[0],P.c.HALF_PI,t,!1),n=P.pu.ul(o[1],o[0],P.c.HALF_PI,t,!0),g=t*this.swallowTailFactor,s=P.pu.ul(o[1],o[0],0,g,!0);return[r,s,n]},P.Plot.p4=function(o){goog.base(this,[]),this.fixPointCount=2,this.setPoints(o)},goog.inherits(P.Plot.p4,ol.geom.Polygon),goog.mixin(P.Plot.p4.prototype,P.Plot.prototype),P.Plot.p4.prototype.pg=function(){var o=this.points[0],e=P.pu.ua(o,this.points[1]);this.setCoordinates([this.pgPoints(o,e)])},P.Plot.p4.prototype.pgPoints=function(o,e){for(var t,r,n,g=[],s=0;s<=P.c.FITTING_COUNT;s++)n=2*Math.PI*s/P.c.FITTING_COUNT,t=o[0]+e*Math.cos(n),r=o[1]+e*Math.sin(n),g.push([t,r]);return g},P.Plot.p5=function(o){goog.base(this,[]),this.t=.3,this.setPoints(o)},goog.inherits(P.Plot.p5,ol.geom.Polygon),goog.mixin(P.Plot.p5.prototype,P.Plot.prototype),P.Plot.p5.prototype.pg=function(){if(2==this.getPointCount())this.setCoordinates([this.points]);else{var o=this.getPoints();o.push(o[0],o[1]);for(var e=[],t=0;t<o.length-2;t++){var r=P.pu.un(this.t,o[t],o[t+1],o[t+2]);e=e.concat(r)}var n=e.length;e=[e[n-1]].concat(e.slice(0,n-1));var g=[];for(t=0;t<o.length-2;t++){var s=o[t],i=o[t+1];g.push(s);for(var a=0;a<=P.c.FITTING_COUNT;a++){var u=P.pu.uk(a/P.c.FITTING_COUNT,s,e[2*t],e[2*t+1],i);g.push(u)}g.push(i)}this.setCoordinates([g])}},P.Plot.p6=function(o){goog.base(this,[]),this.t=.3,this.setPoints(o)},goog.inherits(P.Plot.p6,ol.geom.LineString),goog.mixin(P.Plot.p6.prototype,P.Plot.prototype),P.Plot.p6.prototype.pg=function(){2==this.getPointCount()?this.setCoordinates(this.points):this.setCoordinates(P.pu.up(this.t,this.points))},P.Plot.p7=function(o){goog.base(this,[]),this.headHeightFactor=.25,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.connPoint=null,this.tempPoint4=null,this.fixPointCount=4,this.setPoints(o)},goog.inherits(P.Plot.p7,ol.geom.Polygon),goog.mixin(P.Plot.p7.prototype,P.Plot.prototype),P.Plot.p7.prototype.finishDrawing=function(){3==this.getPointCount()&&null!=this.tempPoint4&&this.points.push(this.tempPoint4),null!=this.connPoint&&this.points.push(this.connPoint)},P.Plot.p7.prototype.pg=function(){if(2==this.getPointCount())return void this.setCoordinates([this.points]);var o=this.points[0],e=this.points[1],t=this.points[2],r=this.getPointCount();3==r?this.tempPoint4=this.getTempPoint4(o,e,t):this.tempPoint4=this.points[3],3==r||4==r?this.connPoint=P.pu.ud(o,e):this.connPoint=this.points[4];var n,g;P.pu.ui(o,e,t)?(n=this.getArrowPoints(o,this.connPoint,this.tempPoint4,!1),g=this.getArrowPoints(this.connPoint,e,t,!0)):(n=this.getArrowPoints(e,this.connPoint,t,!1),g=this.getArrowPoints(this.connPoint,o,this.tempPoint4,!0));var s=n.length,i=(s-5)/2,a=n.slice(0,i),u=n.slice(i,i+5),l=n.slice(i+5,s),c=g.slice(0,i),p=g.slice(i,i+5),h=g.slice(i+5,s);c=P.pu.us(c);var f=P.pu.us(h.concat(a.slice(1)));l=P.pu.us(l);var d=c.concat(p,f,u,l);this.setCoordinates([d])},P.Plot.p7.prototype.getArrowPoints=function(o,e,t,r){var n=P.pu.ud(o,e),g=P.pu.ua(n,t),s=P.pu.ul(t,n,0,.3*g,!0),i=P.pu.ul(t,n,0,.5*g,!0);s=P.pu.ul(n,s,P.c.HALF_PI,g/5,r),i=P.pu.ul(n,i,P.c.HALF_PI,g/4,r);var a=[n,s,i,t],u=this.getArrowHeadPoints(a,this.headHeightFactor,this.headWidthFactor,this.neckHeightFactor,this.neckWidthFactor),l=u[0],c=u[4],p=P.pu.ua(o,e)/P.pu.uc(a)/2,h=this.getArrowBodyPoints(a,l,c,p),f=h.length,d=h.slice(0,f/2),E=h.slice(f/2,f);return d.push(l),E.push(c),d=d.reverse(),d.push(e),E=E.reverse(),E.push(o),d.reverse().concat(u,E)},P.Plot.p7.prototype.getArrowHeadPoints=function(o,e,t){var r=P.pu.uc(o),n=r*this.headHeightFactor,g=o[o.length-1],s=(P.pu.ua(e,t),n*this.headWidthFactor),i=n*this.neckWidthFactor,a=n*this.neckHeightFactor,u=P.pu.ul(o[o.length-2],g,0,n,!0),l=P.pu.ul(o[o.length-2],g,0,a,!0),c=P.pu.ul(g,u,P.c.HALF_PI,s,!1),p=P.pu.ul(g,u,P.c.HALF_PI,s,!0),h=P.pu.ul(g,l,P.c.HALF_PI,i,!1),f=P.pu.ul(g,l,P.c.HALF_PI,i,!0);return[h,c,g,p,f]},P.Plot.p7.prototype.getArrowBodyPoints=function(o,e,t,r){for(var n=P.pu.uaa(o),g=P.pu.uc(o),s=g*r,i=P.pu.ua(e,t),a=(s-i)/2,u=0,l=[],c=[],p=1;p<o.length-1;p++){var h=P.pu.uh(o[p-1],o[p],o[p+1])/2;u+=P.pu.ua(o[p-1],o[p]);var f=(s/2-u/n*a)/Math.sin(h),d=P.pu.ul(o[p-1],o[p],Math.PI-h,f,!0),E=P.pu.ul(o[p-1],o[p],h,f,!1);l.push(d),c.push(E)}return l.concat(c)},P.Plot.p7.prototype.getTempPoint4=function(o,e,t){var r,n,g,s,i=P.pu.ud(o,e),a=P.pu.ua(i,t),u=P.pu.uh(o,i,t);return u<P.c.HALF_PI?(n=a*Math.sin(u),g=a*Math.cos(u),s=P.pu.ul(o,i,P.c.HALF_PI,n,!1),r=P.pu.ul(i,s,P.c.HALF_PI,g,!0)):u>=P.c.HALF_PI&&u<Math.PI?(n=a*Math.sin(Math.PI-u),g=a*Math.cos(Math.PI-u),s=P.pu.ul(o,i,P.c.HALF_PI,n,!1),r=P.pu.ul(i,s,P.c.HALF_PI,g,!1)):u>=Math.PI&&u<1.5*Math.PI?(n=a*Math.sin(u-Math.PI),g=a*Math.cos(u-Math.PI),s=P.pu.ul(o,i,P.c.HALF_PI,n,!0),r=P.pu.ul(i,s,P.c.HALF_PI,g,!0)):(n=a*Math.sin(2*Math.PI-u),g=a*Math.cos(2*Math.PI-u),s=P.pu.ul(o,i,P.c.HALF_PI,n,!0),r=P.pu.ul(i,s,P.c.HALF_PI,g,!1)),r},P.Plot.p8=function(o){goog.base(this,[]),this.fixPointCount=2,this.setPoints(o)},goog.inherits(P.Plot.p8,ol.geom.Polygon),goog.mixin(P.Plot.p8.prototype,P.Plot.prototype),P.Plot.p8.prototype.pg=function(){
if(!(this.getPointCount()<2)){var o=this.points[0],e=this.points[1],t=P.pu.ud(o,e),r=Math.abs((o[0]-e[0])/2),n=Math.abs((o[1]-e[1])/2);this.setCoordinates([this.pgPoints(t,r,n)])}},P.Plot.p8.prototype.pgPoints=function(o,e,t){for(var r,n,g,s=[],i=0;i<=P.c.FITTING_COUNT;i++)g=2*Math.PI*i/P.c.FITTING_COUNT,r=o[0]+e*Math.cos(g),n=o[1]+t*Math.sin(g),s.push([r,n]);return s},P.Plot.p9=function(o){goog.base(this,[]),this.tailWidthFactor=.15,this.neckWidthFactor=.2,this.headWidthFactor=.25,this.headAngle=Math.PI/8.5,this.neckAngle=Math.PI/13,this.fixPointCount=2,this.setPoints(o)},goog.inherits(P.Plot.p9,ol.geom.Polygon),goog.mixin(P.Plot.p9.prototype,P.Plot.prototype),P.Plot.p9.prototype.pg=function(){var o=this.getPoints(),e=o[0],t=o[1],r=P.pu.uc(o),n=r*this.tailWidthFactor,g=r*this.neckWidthFactor,s=r*this.headWidthFactor,i=P.pu.ul(t,e,P.c.HALF_PI,n,!0),a=P.pu.ul(t,e,P.c.HALF_PI,n,!1),u=P.pu.ul(e,t,this.headAngle,s,!1),l=P.pu.ul(e,t,this.headAngle,s,!0),c=P.pu.ul(e,t,this.neckAngle,g,!1),p=P.pu.ul(e,t,this.neckAngle,g,!0),h=[i,c,u,t,l,p,a];this.setCoordinates([h])},P.Plot.p2=function(o){goog.base(this,[]),this.tailWidthFactor=.2,this.neckWidthFactor=.25,this.headWidthFactor=.3,this.headAngle=Math.PI/4,this.neckAngle=.17741*Math.PI,this.setPoints(o)},goog.inherits(P.Plot.p2,P.Plot.p9),P.Plot.p10=function(o){goog.base(this,[]),this.t=.4,this.fixPointCount=3,this.setPoints(o)},goog.inherits(P.Plot.p10,ol.geom.Polygon),goog.mixin(P.Plot.p10.prototype,P.Plot.prototype),P.Plot.p10.prototype.pg=function(){var o=this.getPoints();if(!(o.length<2)){if(2==this.getPointCount()){var e=P.pu.ud(o[0],o[1]),t=P.pu.ua(o[0],e)/.9,r=P.pu.ul(o[0],e,P.c.HALF_PI,t,!0);o=[o[0],r,o[1]]}var e=P.pu.ud(o[0],o[2]);o.push(e,o[0],o[1]);for(var n=[],g=0;g<o.length-2;g++){var s=o[g],i=o[g+1],a=o[g+2],u=P.pu.un(this.t,s,i,a);n=n.concat(u)}var l=n.length;n=[n[l-1]].concat(n.slice(0,l-1));var c=[];for(g=0;g<o.length-2;g++){s=o[g],i=o[g+1],c.push(s);for(var p=0;p<=P.c.FITTING_COUNT;p++){var r=P.pu.uk(p/P.c.FITTING_COUNT,s,n[2*g],n[2*g+1],i);c.push(r)}c.push(i)}this.setCoordinates([c])}},P.Plot.p11=function(o){goog.base(this,[]),this.fixPointCount=3,this.setPoints(o)},goog.inherits(P.Plot.p11,ol.geom.Polygon),goog.mixin(P.Plot.p11.prototype,P.Plot.prototype),P.Plot.p11.prototype.pg=function(){if(!(this.getPointCount()<2)){var o=this.getPoints();if(2==this.getPointCount()){var e=P.pu.ud(o[0],o[1]),t=P.pu.ua(o[0],e),r=P.pu.ul(o[0],e,P.c.HALF_PI,t);o.push(r)}var n=o[0],g=o[1],s=o[2],i=P.pu.ue(n,g,s),a=P.pu.ua(n,i),u=P.pu.ug(n,i),l=P.pu.ug(g,i);if(P.pu.ui(n,g,s))var c=l,p=u;else c=u,p=l;var o=P.pu.um(i,a,c,p);o.push(o[0]),this.setCoordinates([o])}},P.Plot.p12=function(o){goog.base(this,[]),this.fixPointCount=3,this.setPoints(o)},goog.inherits(P.Plot.p12,ol.geom.Polygon),goog.mixin(P.Plot.p12.prototype,P.Plot.prototype),P.Plot.p12.prototype.pg=function(){if(!(this.getPointCount()<2))if(2==this.getPointCount())this.setCoordinates([this.points]);else{var o=this.getPoints(),e=o[0],t=o[1],r=o[2],n=P.pu.ua(t,e),g=P.pu.ug(t,e),s=P.pu.ug(r,e),i=P.pu.um(e,n,g,s);i.push(e,i[0]),this.setCoordinates([i])}},P.Plot.p14=function(o){goog.base(this,[]),this.fixPointCount=2,this.maxArrowLength=3e6,this.arrowLengthScale=5,this.setPoints(o)},goog.inherits(P.Plot.p14,ol.geom.LineString),goog.mixin(P.Plot.p14.prototype,P.Plot.prototype),P.Plot.p14.prototype.pg=function(){if(!(this.getPointCount()<2)){var o=this.getPoints(),e=o[0],t=o[1],r=P.pu.ua(e,t),n=r/this.arrowLengthScale;n=n>this.maxArrowLength?this.maxArrowLength:n;var g=P.pu.ul(e,t,Math.PI/6,n,!1),s=P.pu.ul(e,t,Math.PI/6,n,!0);this.setCoordinates([e,t,g,t,s])}},P.PlotFactory={},P.PlotFactory.createPlot=function(o,e){switch(o){case P.PlotTypes.ARC:return new P.Plot.p1(e);case P.PlotTypes.ELLIPSE:return new P.Plot.p8(e);case P.PlotTypes.CURVE:return new P.Plot.p6(e);case P.PlotTypes.CLOSED_CURVE:return new P.Plot.p5(e);case P.PlotTypes.LUNE:return new P.Plot.p11(e);case P.PlotTypes.SECTOR:return new P.Plot.p12(e);case P.PlotTypes.GATHERING_PLACE:return new P.Plot.p10(e);case P.PlotTypes.STRAIGHT_ARROW:return new P.Plot.p14(e);case P.PlotTypes.ASSAULT_DIRECTION:return new P.Plot.p2(e);case P.PlotTypes.ATTACK_ARROW:return new P.Plot.p3(e);case P.PlotTypes.FINE_ARROW:return new P.Plot.p9(e);case P.PlotTypes.CIRCLE:return new P.Plot.p4(e);case P.PlotTypes.DOUBLE_ARROW:return new P.Plot.p7(e);case P.PlotTypes.TAILED_ATTACK_ARROW:return new P.Plot.Tailedp3(e);case P.PlotTypes.SQUAD_COMBAT:return new P.Plot.p13(e);case P.PlotTypes.TAILED_SQUAD_COMBAT:return new P.Plot.Tailedp13(e)}return null},P.PlotDraw=function(o){goog.base(this,[]),this.points=null,this.plot=null,this.feature=null,this.plotType=null,this.plotParams=null,this.mapViewport=null,this.dblClickZoomInteraction=null;var e=new ol.style.Stroke({color:"#000000",width:1.25}),t=new ol.style.Fill({color:"rgba(0,0,0,0.4)"});this.style=new ol.style.Style({fill:t,stroke:e}),this.featureSource=new ol.source.Vector,this.drawOverlay=new ol.layer.Vector({source:this.featureSource}),this.drawOverlay.setStyle(this.style),this.setMap(o)},goog.inherits(P.PlotDraw,ol.Observable),P.PlotDraw.prototype.activate=function(o,e){this.deactivate(),this.dg(),map.on("click",this.da,this),this.plotType=o,this.plotParams=e,this.map.addLayer(this.drawOverlay)},P.PlotDraw.prototype.deactivate=function(){this.em(),this.map.removeLayer(this.drawOverlay),this.featureSource.clear(),this.points=[],this.plot=null,this.feature=null,this.plotType=null,this.plotParams=null,this.dh()},P.PlotDraw.prototype.isDrawing=function(){return null!=this.plotType},P.PlotDraw.prototype.setMap=function(o){this.map=o,this.mapViewport=this.map.getViewport()},P.PlotDraw.prototype.da=function(o){this.points.push(o.coordinate),this.plot=P.PlotFactory.createPlot(this.plotType,this.points,this.plotParams),this.feature=new ol.Feature(this.plot),this.featureSource.addFeature(this.feature),this.map.un("click",this.da,this),this.map.on("click",this.dc,this),this.map.on("dblclick",this.dd,this),goog.events.listen(this.mapViewport,P.Event.EventType.MOUSEMOVE,this.db,!1,this)},P.PlotDraw.prototype.db=function(o){var e=map.getCoordinateFromPixel([o.clientX,o.clientY]);if(!(P.pu.ua(e,this.points[this.points.length-1])<P.c.ZERO_TOLERANCE)){var t=this.points.concat([e]);this.plot.setPoints(t)}},P.PlotDraw.prototype.dc=function(o){P.pu.ua(o.coordinate,this.points[this.points.length-1])<P.c.ZERO_TOLERANCE||(this.points.push(o.coordinate),this.plot.setPoints(this.points),this.plot.fixPointCount==this.plot.getPointCount()&&this.dd(o))},P.PlotDraw.prototype.dd=function(o){this.em(),this.plot.finishDrawing(),o.preventDefault(),this.df()},P.PlotDraw.prototype.em=function(){this.map.un("click",this.da,this),this.map.un("click",this.dc,this),goog.events.unlisten(this.mapViewport,P.Event.EventType.MOUSEMOVE,this.db,!1,this),this.map.un("dblclick",this.dd,this)},P.PlotDraw.prototype.df=function(o){this.featureSource.removeFeature(this.feature),this.dh(),this.em(),this.map.removeOverlay(this.drawOverlay),this.points=[],this.plot=null,this.plotType=null,this.plotParams=null,this.dispatchEvent(new P.Event.PlotDrawEvent(P.Event.PlotDrawEvent.DRAW_END,this.feature)),this.feature=null},P.PlotDraw.prototype.dg=function(){for(var o=map.getInteractions(),e=o.getLength(),t=0;e>t;t++){var r=o.item(t);if(r instanceof ol.interaction.DoubleClickZoom){this.dblClickZoomInteraction=r,o.remove(r);break}}},P.PlotDraw.prototype.dh=function(){null!=this.dblClickZoomInteraction&&(map.getInteractions().push(this.dblClickZoomInteraction),this.dblClickZoomInteraction=null)},P.PlotEdit=function(o){o&&(goog.base(this,[]),this.activePlot=null,this.startPoint=null,this.ghostControlPoints=null,this.controlPoints=null,this.map=o,this.mapViewport=this.map.getViewport(),this.mouseOver=!1,this.elementTable={},this.activeControlPointId=null,this.mapDragPan=null)},goog.inherits(P.PlotEdit,ol.Observable),P.PlotEdit.prototype.Constants={HELPER_HIDDEN_DIV:"p-helper-hidden-div",HELPER_CONTROL_POINT_DIV:"p-helper-control-point-div"},P.PlotEdit.prototype.ea=function(){if(this.map&&this.activePlot){var o=this.eb();if(o)for(var e=P.du.createHidden("div",o,this.Constants.HELPER_HIDDEN_DIV),t=this.eh(),r=0;r<t.length;r++){var n=this.Constants.HELPER_CONTROL_POINT_DIV+"-"+r;P.du.create("div",this.Constants.HELPER_CONTROL_POINT_DIV,e,n),this.elementTable[n]=r}}},P.PlotEdit.prototype.eb=function(){var o=this.map.getTargetElement();if(o)return o.parentNode},P.PlotEdit.prototype.ec=function(){if(this.controlPoints){for(var o=0;o<this.controlPoints.length;o++){this.map.removeOverlay(this.controlPoints[o]);var e=P.du.get(this.Constants.HELPER_CONTROL_POINT_DIV+"-"+o);e&&P.du.removeListener(e,"mousedown",this.ee,this)}this.controlPoints=null}var t=this.eb(),r=P.du.get(this.Constants.HELPER_HIDDEN_DIV);r&&t&&P.du.remove(r,t)},P.PlotEdit.prototype.ed=function(){if(this.map){this.controlPoints=[];for(var o=this.eh(),e=0;e<o.length;e++){var t=this.Constants.HELPER_CONTROL_POINT_DIV+"-"+e,r=P.du.get(t),n=new ol.Overlay({id:t,position:o[e],positioning:"center-center",element:r});this.controlPoints.push(n),this.map.addOverlay(n),P.du.addListener(r,"mousedown",this.ee,this)}}},P.PlotEdit.prototype.ee=function(o){var e=o.target.id;this.activeControlPointId=e,goog.events.listen(this.mapViewport,P.Event.EventType.MOUSEMOVE,this.ef,!1,this),goog.events.listen(this.mapViewport,P.Event.EventType.MOUSEUP,this.eg,!1,this)},P.PlotEdit.prototype.ef=function(o){var e=map.getCoordinateFromPixel([o.clientX,o.clientY]);if(this.activeControlPointId){var t=this.activePlot.getGeometry(),r=this.elementTable[this.activeControlPointId];t.updatePoint(e,r);var n=this.map.getOverlayById(this.activeControlPointId);n.setPosition(e)}},P.PlotEdit.prototype.eg=function(o){goog.events.unlisten(this.mapViewport,P.Event.EventType.MOUSEMOVE,this.ef,!1,this),goog.events.unlisten(this.mapViewport,P.Event.EventType.MOUSEUP,this.eg,!1,this)},P.PlotEdit.prototype.activate=function(o){if(o&&o instanceof ol.Feature&&o!=this.activePlot){var e=o.getGeometry();e.isPlot()&&(this.deactivate(),this.activePlot=o,this.map.on("pointermove",this.ei,this),this.ea(),this.ed())}},P.PlotEdit.prototype.eh=function(){if(!this.activePlot)return[];var o=this.activePlot.getGeometry();return o.getPoints()},P.PlotEdit.prototype.ei=function(o){var e=map.forEachFeatureAtPixel(o.pixel,function(o,e){return o});e&&e==this.activePlot?this.mouseOver||(this.mouseOver=!0,this.map.getViewport().style.cursor="move",this.map.on("pointerdown",this.ej,this)):this.mouseOver&&(this.mouseOver=!1,this.map.getViewport().style.cursor="default",this.map.un("pointerdown",this.ej,this))},P.PlotEdit.prototype.ej=function(o){this.ghostControlPoints=this.eh(),this.startPoint=o.coordinate,this.en(),this.map.on("pointerup",this.el,this),this.map.on("pointerdrag",this.ek,this)},P.PlotEdit.prototype.ek=function(o){for(var e=o.coordinate,t=e[0]-this.startPoint[0],r=e[1]-this.startPoint[1],n=[],g=0;g<this.ghostControlPoints.length;g++){var s=this.ghostControlPoints[g],i=[s[0]+t,s[1]+r];n.push(i);var a=this.Constants.HELPER_CONTROL_POINT_DIV+"-"+g,u=this.map.getOverlayById(a);u.setPosition(i),u.setPositioning("center-center")}var l=this.activePlot.getGeometry();l.setPoints(n)},P.PlotEdit.prototype.el=function(o){this.eo(),this.map.un("pointerup",this.el,this),this.map.un("pointerdrag",this.ek,this)},P.PlotEdit.prototype.em=function(){this.map.un("pointermove",this.ei,this),goog.events.unlisten(this.mapViewport,P.Event.EventType.MOUSEMOVE,this.ef,!1,this),goog.events.unlisten(this.mapViewport,P.Event.EventType.MOUSEUP,this.eg,!1,this),this.map.un("pointerdown",this.ej,this),this.map.un("pointerup",this.el,this),this.map.un("pointerdrag",this.ek,this)},P.PlotEdit.prototype.deactivate=function(){this.activePlot=null,this.mouseOver=!1,this.ec(),this.em(),this.elementTable={},this.activeControlPointId=null,this.startPoint=null},P.PlotEdit.prototype.en=function(){for(var o=this.map.getInteractions(),e=o.getLength(),t=0;e>t;t++){var r=o.item(t);if(r instanceof ol.interaction.DragPan){this.mapDragPan=r,r.setActive(!1);break}}},P.PlotEdit.prototype.eo=function(){null!=this.mapDragPan&&(this.mapDragPan.setActive(!0),this.mapDragPan=null)};